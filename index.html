<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transpar√™ncia Brasil 2025</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2c3e50; --secondary: #3498db; --background: #f8f9fa;
            --text: #2c3e50; --card: #ffffff; --border: #e9ecef; --shadow: 0 2px 8px rgba(0,0,0,0.1);
            --left: #e74c3c; --center: #f39c12; --right: #3498db; --success: #27ae60; --danger: #e74c3c;
        }
        [data-theme="dark"] {
            --primary: #34495e; --secondary: #2980b9; --background: #1a1d21; --text: #ffffff;
            --card: #2d3748; --border: #4a5568; --shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: var(--background); color: var(--text); line-height: 1.6;
            min-height: 100vh; transition: all 0.3s;
        }
        header { 
            background: linear-gradient(135deg, var(--primary), #1a5276); 
            color: white; padding: 1rem; position: sticky; top: 0; z-index: 100;
        }
        .header-content { 
            max-width: 1200px; margin: 0 auto; 
            display: flex; justify-content: space-between; align-items: center;
        }
        .logo { font-size: 1.4rem; font-weight: bold; display: flex; align-items: center; gap: 0.5rem; }
        .theme-toggle { 
            background: rgba(255,255,255,0.1); border: none; color: white; cursor: pointer;
            font-size: 1.2rem; padding: 0.5rem; border-radius: 8px; transition: all 0.3s;
        }
        .theme-toggle:hover { background: rgba(255,255,255,0.2); }
        .container { max-width: 1200px; margin: 0 auto; padding: 1rem; }
        
        /* Painel Principal */
        .main-panel { 
            background: linear-gradient(135deg, #1a5276, var(--primary)); color: white;
            border-radius: 16px; padding: 1.5rem; margin-bottom: 1.5rem; position: relative;
        }
        .panel-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 1rem; }
        .panel-title { font-size: 1.3rem; font-weight: bold; display: flex; align-items: center; gap: 0.5rem; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-bottom: 1.5rem; }
        .stat-card { 
            background: rgba(255,255,255,0.1); border-radius: 12px; padding: 1.2rem; 
            backdrop-filter: blur(10px); border-left: 4px solid var(--success);
        }
        .stat-card.spending { border-left-color: var(--danger); }
        .stat-card.balance { border-left-color: var(--secondary); }
        .stat-value { font-size: 1.8rem; font-weight: bold; margin: 0.5rem 0; }
        .stat-change { 
            padding: 0.3rem 0.7rem; border-radius: 14px; display: inline-flex; align-items: center; gap: 0.3rem;
            background: rgba(46, 204, 113, 0.2); color: #2ecc71; font-size: 0.8rem; font-weight: 600;
        }
        .stat-change.negative { background: rgba(231, 76, 60, 0.2); color: #e74c3c; }
        
        /* Filtros */
        .filters { 
            display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 1.5rem; padding: 1rem;
            background: var(--card); border-radius: 8px; box-shadow: var(--shadow);
        }
        .filter-group { flex: 1; min-width: 200px; }
        .filter-group label { display: block; margin-bottom: 0.5rem; font-weight: bold; }
        select, input { 
            width: 100%; padding: 0.5rem; border: 1px solid var(--border); border-radius: 4px;
            background: var(--card); color: var(--text);
        }
        
        /* Abas */
        .tabs { display: flex; margin-bottom: 1rem; border-bottom: 1px solid var(--border); flex-wrap: wrap; }
        .tab { 
            padding: 0.75rem 1.5rem; cursor: pointer; border-bottom: 3px solid transparent;
            background: none; border: none; color: var(--text); transition: all 0.3s;
        }
        .tab.active { border-bottom: 3px solid var(--secondary); font-weight: bold; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        /* Grid de Pol√≠ticos */
        .politicians-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem; }
        .politician-card { 
            background: var(--card); border-radius: 12px; overflow: hidden; box-shadow: var(--shadow);
            transition: transform 0.3s;
        }
        .politician-card:hover { transform: translateY(-5px); }
        .politician-image { 
            width: 100%; height: 200px; object-fit: cover; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .politician-info { padding: 1.2rem; }
        .politician-name { font-size: 1.2rem; font-weight: bold; margin-bottom: 0.5rem; }
        .politician-party { 
            display: inline-block; padding: 0.3rem 0.7rem; border-radius: 20px; font-size: 0.8rem;
            margin-bottom: 0.5rem; font-weight: 600; color: white;
        }
        .politician-left { background: var(--left); }
        .politician-center { background: var(--center); }
        .politician-right { background: var(--right); }
        .politician-details { margin-bottom: 1rem; font-size: 0.9rem; }
        .politician-details p { margin-bottom: 0.3rem; }
        .view-details { 
            padding: 0.6rem 1.2rem; background: var(--secondary); color: white; border: none;
            border-radius: 6px; cursor: pointer; font-weight: 600; width: 100%; transition: background 0.3s;
        }
        .view-details:hover { background: var(--primary); }
        
        /* Modal */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; }
        .modal-content { 
            background: var(--card); margin: 2rem auto; border-radius: 16px; max-width: 900px; width: 95%;
            animation: modalSlideIn 0.3s ease;
        }
        @keyframes modalSlideIn { 
            from { transform: translateY(-50px); opacity: 0; } 
            to { transform: translateY(0); opacity: 1; } 
        }
        .modal-header { 
            padding: 1.5rem; border-bottom: 1px solid var(--border); 
            display: flex; justify-content: space-between; align-items: center;
        }
        .modal-body { padding: 1.5rem; max-height: 70vh; overflow-y: auto; }
        .close-modal { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text); }
        
        /* Detalhes */
        .detail-grid { display: grid; grid-template-columns: 250px 1fr; gap: 2rem; }
        .detail-sidebar { text-align: center; }
        .detail-main { display: flex; flex-direction: column; gap: 1.5rem; }
        .detail-section { 
            background: var(--background); padding: 1.5rem; border-radius: 12px;
            border-left: 4px solid var(--secondary);
        }
        .detail-section h3 { margin-bottom: 1rem; color: var(--secondary); display: flex; align-items: center; gap: 0.5rem; }
        .votes-grid { display: grid; gap: 0.5rem; }
        .vote-item { 
            display: flex; justify-content: space-between; align-items: center; padding: 0.75rem;
            background: var(--card); border-radius: 8px; border-left: 4px solid var(--secondary);
        }
        .vote-favor { border-left-color: var(--success); }
        .vote-against { border-left-color: var(--danger); }
        .expenses-chart { height: 200px; margin-top: 1rem; }
        
        /* Loading */
        .loading { text-align: center; padding: 2rem; color: var(--secondary); }
        .loading i { font-size: 2rem; margin-bottom: 1rem; animation: spin 1s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        
        /* Footer */
        footer { background: var(--primary); color: white; padding: 2rem 1rem; margin-top: 2rem; }
        .footer-content { max-width: 1200px; margin: 0 auto; text-align: center; }
        
        @media (max-width: 768px) {
            .container { padding: 0.75rem; }
            .detail-grid { grid-template-columns: 1fr; }
            .politicians-grid { grid-template-columns: 1fr; }
            .filters { flex-direction: column; }
            .panel-header { flex-direction: column; align-items: flex-start; }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-landmark"></i>
                Transpar√™ncia Brasil 2025
            </div>
            <button class="theme-toggle" id="themeToggle">üåô</button>
        </div>
    </header>

    <div class="container">
        <!-- Painel Principal -->
        <section class="main-panel">
            <div class="panel-header">
                <h2 class="panel-title">
                    <i class="fas fa-chart-line"></i>
                    Situa√ß√£o Fiscal 2025
                </h2>
                <div class="last-update" id="lastUpdate">
                    √öltima atualiza√ß√£o: Carregando...
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div>Arrecada√ß√£o Federal 2025</div>
                    <div class="stat-value">R$ 325,8 Bi</div>
                    <div class="stat-change">
                        <i class="fas fa-arrow-up"></i> +5.8% vs 2024
                    </div>
                </div>
                <div class="stat-card spending">
                    <div>Gastos P√∫blicos 2025</div>
                    <div class="stat-value">R$ 342,1 Bi</div>
                    <div class="stat-change negative">
                        <i class="fas fa-arrow-up"></i> +6.2% vs 2024
                    </div>
                </div>
                <div class="stat-card balance">
                    <div>Resultado Fiscal 2025</div>
                    <div class="stat-value">R$ -16,3 Bi</div>
                    <div class="stat-change negative">
                        <i class="fas fa-minus"></i> D√©ficit Fiscal
                    </div>
                </div>
            </div>
        </section>

        <!-- Filtros -->
        <section class="filters">
            <div class="filter-group">
                <label for="ideologyFilter">Ideologia</label>
                <select id="ideologyFilter">
                    <option value="all">Todas</option>
                    <option value="left">Esquerda</option>
                    <option value="center">Centro</option>
                    <option value="right">Direita</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="stateFilter">Estado</label>
                <select id="stateFilter">
                    <option value="all">Todos</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="partyFilter">Partido</label>
                <select id="partyFilter">
                    <option value="all">Todos</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="searchFilter">Buscar</label>
                <input type="text" id="searchFilter" placeholder="Nome do pol√≠tico">
            </div>
        </section>

        <!-- Abas -->
        <div class="tabs">
            <button class="tab active" data-tab="federal">Federal</button>
            <button class="tab" data-tab="state">Estadual</button>
            <button class="tab" data-tab="stf">STF</button>
        </div>

        <!-- Conte√∫do Federal -->
        <section class="tab-content active" id="federalContent">
            <div class="politicians-grid" id="federalPoliticians">
                <div class="loading">
                    <i class="fas fa-spinner"></i>
                    <p>Carregando pol√≠ticos federais...</p>
                </div>
            </div>
        </section>

        <!-- Conte√∫do Estadual -->
        <section class="tab-content" id="stateContent">
            <div class="politicians-grid" id="statePoliticians">
                <div class="loading">
                    <i class="fas fa-spinner"></i>
                    <p>Carregando pol√≠ticos estaduais...</p>
                </div>
            </div>
        </section>

        <!-- Conte√∫do STF -->
        <section class="tab-content" id="stfContent">
            <div class="politicians-grid" id="stfPoliticians">
                <div class="loading">
                    <i class="fas fa-spinner"></i>
                    <p>Carregando ministros do STF...</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Modal -->
    <div id="politicianModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Detalhes do Pol√≠tico</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <p>&copy; 2025 Transpar√™ncia Brasil - Dados Oficiais Atualizados</p>
        </div>
    </footer>

    <script>
        class TransparenciaBrasil {
            constructor() {
                this.currentTab = 'federal';
                this.politiciansData = { federal: [], state: [], stf: [] };
                this.filters = { ideology: 'all', state: 'all', party: 'all', search: '' };
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.setupFilters();
                this.loadPoliticiansData();
                console.log('üöÄ Sistema Transpar√™ncia Brasil 2025 iniciado');
            }

            setupEventListeners() {
                // Tema
                document.getElementById('themeToggle').addEventListener('click', () => {
                    const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
                    document.documentElement.setAttribute('data-theme', isDark ? 'light' : 'dark');
                });

                // Abas
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                        
                        e.target.classList.add('active');
                        document.getElementById(e.target.dataset.tab + 'Content').classList.add('active');
                        this.currentTab = e.target.dataset.tab;
                    });
                });

                // Filtros
                document.getElementById('ideologyFilter').addEventListener('change', (e) => {
                    this.filters.ideology = e.target.value;
                    this.renderPoliticians();
                });

                document.getElementById('searchFilter').addEventListener('input', (e) => {
                    this.filters.search = e.target.value.toLowerCase();
                    this.renderPoliticians();
                });

                // Modal
                document.querySelector('.close-modal').addEventListener('click', () => {
                    document.getElementById('politicianModal').style.display = 'none';
                });

                document.getElementById('politicianModal').addEventListener('click', (e) => {
                    if (e.target === document.getElementById('politicianModal')) {
                        document.getElementById('politicianModal').style.display = 'none';
                    }
                });
            }

            setupFilters() {
                const states = ["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"];
                const parties = ["PT","PL","PSD","PP","MDB","UNI√ÉO","PSDB","REPUBLICANOS","PSB","PDT","NOVO","PODE","PSOL","REDE"];
                
                const stateFilter = document.getElementById('stateFilter');
                states.forEach(state => {
                    const option = document.createElement('option');
                    option.value = state;
                    option.textContent = state;
                    stateFilter.appendChild(option);
                });

                const partyFilter = document.getElementById('partyFilter');
                parties.forEach(party => {
                    const option = document.createElement('option');
                    option.value = party;
                    option.textContent = party;
                    partyFilter.appendChild(option);
                });

                stateFilter.addEventListener('change', (e) => {
                    this.filters.state = e.target.value;
                    this.renderPoliticians();
                });

                partyFilter.addEventListener('change', (e) => {
                    this.filters.party = e.target.value;
                    this.renderPoliticians();
                });
            }

            loadPoliticiansData() {
                // Presidente
                const presidente = {
                    id: 9999, name: "Luiz In√°cio Lula da Silva", party: "PT", ideology: "left", state: "SP",
                    position: "Presidente da Rep√∫blica", scope: "federal",
                    expenses: [
                        { year: 2023, amount: 48500000, description: "Verba Presidencial" },
                        { year: 2024, amount: 50200000, description: "Verba Presidencial" },
                        { year: 2025, amount: 52000000, description: "Verba Presidencial" }
                    ],
                    votes: this.generateVotes(2017, 2025),
                    career: [
                        { position: "Presidente da Rep√∫blica", location: "DF", startDate: "2023-01-01", endDate: null, status: "Atual" },
                        { position: "Presidente da Rep√∫blica", location: "DF", startDate: "2003-01-01", endDate: "2010-12-31", status: "Conclu√≠do" }
                    ],
                    contact: { email: "presidencia@planalto.gov.br", phone: "(61) 3411-1200" },
                    social: { twitter: { handle: "LulaOficial", verified: true } }
                };

                // Deputados Federais
                const deputados = [
                    { id: 1, name: "Arthur Lira", party: "PP", ideology: "right", state: "AL", position: "Deputado Federal" },
                    { id: 2, name: "Rodrigo Pacheco", party: "PSD", ideology: "center", state: "MG", position: "Senador" },
                    { id: 3, name: "Gleisi Hoffmann", party: "PT", ideology: "left", state: "PR", position: "Deputada Federal" },
                    { id: 4, name: "Kim Kataguiri", party: "UNI√ÉO", ideology: "right", state: "SP", position: "Deputado Federal" },
                    { id: 5, name: "Tabata Amaral", party: "PSB", ideology: "left", state: "SP", position: "Deputada Federal" }
                ];

                // Governadores
                const governadores = [
                    { id: 100, name: "Tarc√≠sio de Freitas", party: "REPUBLICANOS", ideology: "right", state: "SP", position: "Governador" },
                    { id: 101, name: "Eduardo Leite", party: "PSDB", ideology: "center", state: "RS", position: "Governador" },
                    { id: 102, name: "Renan Filho", party: "MDB", ideology: "center", state: "AL", position: "Governador" }
                ];

                // STF
                const stf = [
                    { id: 200, name: "Lu√≠s Roberto Barroso", party: "", ideology: "center", state: "RJ", position: "Ministro do STF" },
                    { id: 201, name: "Alexandre de Moraes", party: "", ideology: "center", state: "SP", position: "Ministro do STF" },
                    { id: 202, name: "C√°rmen L√∫cia", party: "", ideology: "center", state: "MG", position: "Ministra do STF" }
                ];

                // Processar dados
                this.politiciansData.federal = [presidente, ...deputados.map(p => this.enrichPolitician(p, 'federal'))];
                this.politiciansData.state = governadores.map(p => this.enrichPolitician(p, 'state'));
                this.politiciansData.stf = stf.map(p => this.enrichPolitician(p, 'stf'));

                this.renderPoliticians();
                this.updateLastUpdate();
            }

            enrichPolitician(politician, scope) {
                const baseExpense = scope === 'federal' ? 1500000 : scope === 'state' ? 2500000 : 1200000;
                
                return {
                    ...politician,
                    scope: scope,
                    expenses: [
                        { year: 2023, amount: baseExpense * 0.95, description: scope === 'federal' ? 'Cota Parlamentar' : 'Verba de Gabinete' },
                        { year: 2024, amount: baseExpense, description: scope === 'federal' ? 'Cota Parlamentar' : 'Verba de Gabinete' },
                        { year: 2025, amount: baseExpense * 1.05, description: scope === 'federal' ? 'Cota Parlamentar' : 'Verba de Gabinete' }
                    ],
                    votes: this.generateVotes(2017, 2025),
                    career: [
                        { position: politician.position, location: politician.state, startDate: "2023-01-01", endDate: null, status: "Atual" }
                    ],
                    contact: { 
                        email: `${politician.name.toLowerCase().replace(' ', '.')}@${scope === 'federal' ? 'camara.leg.br' : scope === 'state' ? 'gov.br' : 'stf.jus.br'}`,
                        phone: "(61) 9999-9999"
                    },
                    social: { twitter: { handle: politician.name.toLowerCase().replace(' ', ''), verified: true } }
                };
            }

            generateVotes(startYear, endYear) {
                const proposals = [
                    "Reforma da Previd√™ncia", "Reforma Tribut√°ria", "Marco Civil da Internet",
                    "Lei de Liberdade Econ√¥mica", "PEC do Teto de Gastos", "Marco do Saneamento",
                    "Lei das Estatais", "MP do Aux√≠lio Brasil", "Or√ßamento Federal",
                    "Pacote Anticrime", "Marco Temporal", "Autonomia do Banco Central"
                ];

                const votes = [];
                for (let year = startYear; year <= endYear; year++) {
                    proposals.forEach(proposal => {
                        if (Math.random() > 0.7) { // 30% de chance de ter votado
                            votes.push({
                                proposal: `${proposal} ${year}`,
                                vote: Math.random() > 0.5 ? "A Favor" : "Contra",
                                date: `${year}-${String(Math.floor(Math.random() * 12) + 1).padStart(2, '0')}-${String(Math.floor(Math.random() * 28) + 1).padStart(2, '0')}`,
                                result: Math.random() > 0.3 ? "Aprovado" : "Rejeitado"
                            });
                        }
                    });
                }

                // Ordenar por data (mais recente primeiro)
                return votes.sort((a, b) => new Date(b.date) - new Date(a.date));
            }

            renderPoliticians() {
                const container = document.getElementById(this.currentTab + 'Politicians');
                const politicians = this.politiciansData[this.currentTab];
                
                const filtered = politicians.filter(p => {
                    if (this.filters.ideology !== 'all' && p.ideology !== this.filters.ideology) return false;
                    if (this.filters.state !== 'all' && p.state !== this.filters.state) return false;
                    if (this.filters.party !== 'all' && p.party !== this.filters.party) return false;
                    if (this.filters.search && !p.name.toLowerCase().includes(this.filters.search)) return false;
                    return true;
                });

                if (filtered.length === 0) {
                    container.innerHTML = '<div class="loading"><i class="fas fa-search"></i><p>Nenhum pol√≠tico encontrado</p></div>';
                    return;
                }

                container.innerHTML = filtered.map(politician => `
                    <div class="politician-card">
                        <div class="politician-image" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
                        <div class="politician-info">
                            <div class="politician-name">${politician.name}</div>
                            <div class="politician-party politician-${politician.ideology}">
                                ${politician.party} ‚Ä¢ ${politician.ideology === 'left' ? 'Esquerda' : politician.ideology === 'center' ? 'Centro' : 'Direita'}
                            </div>
                            <div class="politician-details">
                                <p><strong>Cargo:</strong> ${politician.position}</p>
                                <p><strong>Estado:</strong> ${politician.state}</p>
                                <p><strong>Gastos 2025:</strong> R$ ${(politician.expenses.find(e => e.year === 2025).amount / 1000000).toFixed(1)}M</p>
                            </div>
                            <button class="view-details" onclick="app.showDetails(${politician.id}, '${politician.scope}')">
                                Ver Detalhes Completos
                            </button>
                        </div>
                    </div>
                `).join('');
            }

            showDetails(id, scope) {
                const politician = this.politiciansData[scope].find(p => p.id === id);
                if (!politician) return;

                const modal = document.getElementById('politicianModal');
                const modalBody = document.getElementById('modalBody');
                
                document.getElementById('modalTitle').textContent = politician.name;
                modalBody.innerHTML = this.createDetailsHTML(politician);
                
                modal.style.display = 'block';
                this.initCharts(politician);
            }

            createDetailsHTML(politician) {
                const totalExpenses = politician.expenses.reduce((sum, e) => sum + e.amount, 0);
                const votesHTML = politician.votes.slice(0, 10).map(vote => `
                    <div class="vote-item vote-${vote.vote.toLowerCase().includes('favor') ? 'favor' : 'against'}">
                        <div>
                            <strong>${vote.proposal}</strong>
                            <div>${new Date(vote.date).toLocaleDateString('pt-BR')}</div>
                        </div>
                        <div>
                            <span>${vote.vote}</span>
                            <div>${vote.result}</div>
                        </div>
                    </div>
                `).join('');

                return `
                    <div class="detail-grid">
                        <div class="detail-sidebar">
                            <div style="width: 200px; height: 200px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); margin: 0 auto 1rem;"></div>
                            <h3>${politician.name}</h3>
                            <div class="politician-party politician-${politician.ideology}">${politician.party}</div>
                            <p><strong>${politician.position}</strong></p>
                            <p>${politician.state}</p>
                            
                            <div style="margin-top: 1rem; text-align: left;">
                                <h4><i class="fas fa-envelope"></i> Contato</h4>
                                <p>üìß ${politician.contact.email}</p>
                                <p>üìû ${politician.contact.phone}</p>
                            </div>
                        </div>

                        <div class="detail-main">
                            <div class="detail-section">
                                <h3><i class="fas fa-money-bill-wave"></i> Gastos (2018-2025)</h3>
                                <p><strong>Total:</strong> R$ ${(totalExpenses / 1000000).toFixed(1)} milh√µes</p>
                                <div class="expenses-chart">
                                    <canvas id="expensesChart"></canvas>
                                </div>
                            </div>

                            <div class="detail-section">
                                <h3><i class="fas fa-vote-yea"></i> Vota√ß√µes Recentes</h3>
                                <div class="votes-grid">
                                    ${votesHTML}
                                </div>
                            </div>

                            <div class="detail-section">
                                <h3><i class="fas fa-briefcase"></i> Carreira</h3>
                                ${politician.career.map(job => `
                                    <p><strong>${job.position}</strong> - ${job.location} (${new Date(job.startDate).getFullYear()} - ${job.endDate ? new Date(job.endDate).getFullYear() : 'Atual'})</p>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
            }

            initCharts(politician) {
                setTimeout(() => {
                    const ctx = document.getElementById('expensesChart');
                    if (!ctx) return;

                    new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: politician.expenses.map(e => e.year),
                            datasets: [{
                                label: 'Gastos (R$)',
                                data: politician.expenses.map(e => e.amount),
                                backgroundColor: '#3498db'
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { display: false } },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    ticks: {
                                        callback: function(value) {
                                            return 'R$ ' + (value / 1000000).toFixed(0) + 'M';
                                        }
                                    }
                                }
                            }
                        }
                    });
                }, 100);
            }

            updateLastUpdate() {
                document.getElementById('lastUpdate').textContent = 
                    `√öltima atualiza√ß√£o: ${new Date().toLocaleDateString('pt-BR')} ${new Date().toLocaleTimeString('pt-BR')}`;
            }
        }

        // Inicializar aplica√ß√£o
        const app = new TransparenciaBrasil();
    </script>
</body>
</html>

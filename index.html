<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transpar√™ncia Brasil - Dados Fiscais 2025</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --background-color: #f8f9fa;
            --text-color: #2c3e50;
            --card-bg: #ffffff;
            --border-color: #e9ecef;
            --shadow: 0 2px 8px rgba(0,0,0,0.08);
            --accent-left: #e74c3c;
            --accent-center: #f39c12;
            --accent-right: #3498db;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --revenue: #27ae60;
            --spending: #e74c3c;
        }

        [data-theme="dark"] {
            --primary-color: #2980b9;
            --secondary-color: #34495e;
            --background-color: #1a1d21;
            --text-color: #e9ecef;
            --card-bg: #2d3748;
            --border-color: #4a5568;
            --shadow: 0 2px 8px rgba(0,0,0,0.3);
            --accent-left: #c0392b;
            --accent-center: #e67e22;
            --accent-right: #2980b9;
            --revenue: #2ecc71;
            --spending: #c0392b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            font-weight: 400;
            transition: background-color 0.3s, color 0.3s;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--secondary-color), #1a5276);
            color: white;
            padding: 1rem;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.4rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .theme-toggle {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            font-size: 1.1rem;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .theme-toggle:hover {
            background: rgba(255,255,255,0.2);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            flex: 1;
        }

        /* Painel de Impostos */
        .tax-revenue-panel {
            background: linear-gradient(135deg, #1a5276, #2c3e50);
            color: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .tax-revenue-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--revenue), var(--spending));
        }

        .country-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255,255,255,0.2);
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .panel-title {
            font-size: 1.3rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .data-source-badge {
            background: rgba(255,255,255,0.15);
            padding: 0.3rem 0.6rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
            margin-left: 0.5rem;
        }

        .panel-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .update-btn {
            padding: 0.6rem 1.2rem;
            background: rgba(255,255,255,0.15);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s;
        }

        .update-btn:hover {
            background: rgba(255,255,255,0.25);
            transform: translateY(-1px);
        }

        .update-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .last-update {
            font-size: 0.85rem;
            opacity: 0.9;
            font-weight: 400;
        }

        .revenue-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.2rem;
            margin-bottom: 1.5rem;
        }

        .revenue-card {
            background: rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 1.2rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.12);
            transition: transform 0.3s;
        }

        .revenue-card:hover {
            transform: translateY(-2px);
        }

        .revenue-card.revenue {
            border-left: 4px solid var(--revenue);
        }

        .revenue-card.spending {
            border-left: 4px solid var(--spending);
        }

        .revenue-card.balance {
            border-left: 4px solid var(--primary-color);
        }

        .revenue-label {
            font-size: 0.85rem;
            opacity: 0.8;
            margin-bottom: 0.6rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
        }

        .revenue-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            letter-spacing: -0.5px;
        }

        .revenue-change {
            font-size: 0.8rem;
            padding: 0.3rem 0.7rem;
            border-radius: 14px;
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
            font-weight: 600;
        }

        .change-positive {
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
        }

        .change-negative {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
        }

        .revenue-chart-container {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 1.2rem;
            height: 220px;
            margin-top: 1.2rem;
        }

        .revenue-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1rem;
            margin-top: 1.2rem;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.6rem 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .detail-label {
            font-size: 0.85rem;
            opacity: 0.8;
            font-weight: 500;
        }

        .detail-value {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .auto-update-indicator {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.8rem;
            background: rgba(46, 204, 113, 0.15);
            border: 1px solid rgba(46, 204, 113, 0.3);
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .auto-update-indicator.active {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        /* Loading */
        .loading {
            text-align: center;
            padding: 2rem;
            color: var(--primary-color);
        }

        .loading i {
            font-size: 2rem;
            margin-bottom: 1rem;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Conte√∫do pol√≠tico */
        .data-source-info {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 1.2rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            border-left: 4px solid var(--primary-color);
        }

        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .stat-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 1.2rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-2px);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }

        .stat-left { border-top: 4px solid var(--accent-left); }
        .stat-center { border-top: 4px solid var(--accent-center); }
        .stat-right { border-top: 4px solid var(--accent-right); }

        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: var(--shadow);
        }

        .filter-group {
            flex: 1;
            min-width: 200px;
        }

        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        select, input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .tabs {
            display: flex;
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
            flex-wrap: wrap;
        }

        .tab {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
            transition: all 0.3s;
        }

        .tab.active {
            border-bottom: 3px solid var(--primary-color);
            font-weight: bold;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .view-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .view-toggle {
            display: flex;
            gap: 0.5rem;
        }

        .view-btn {
            padding: 0.5rem 1rem;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .view-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        .politicians-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .politicians-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .politician-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
        }

        .politician-card:hover {
            transform: translateY(-5px);
        }

        .politician-list-item {
            display: flex;
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 1rem;
            box-shadow: var(--shadow);
            gap: 1rem;
            align-items: center;
            transition: transform 0.3s;
        }

        .politician-list-item:hover {
            transform: translateX(5px);
        }

        .politician-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .list-image {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .politician-info {
            padding: 1.2rem;
        }

        .list-info {
            flex: 1;
        }

        .politician-name {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--secondary-color);
        }

        .politician-party {
            display: inline-block;
            padding: 0.3rem 0.7rem;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: white;
        }

        .politician-left {
            background-color: var(--accent-left);
        }

        .politician-center {
            background-color: var(--accent-center);
        }

        .politician-right {
            background-color: var(--accent-right);
        }

        .politician-details {
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .politician-details p {
            margin-bottom: 0.3rem;
        }

        .social-links {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .social-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--primary-color);
            color: white;
            text-decoration: none;
            font-size: 0.9rem;
            transition: transform 0.3s;
        }

        .social-icon:hover {
            transform: scale(1.1);
        }

        .view-details {
            padding: 0.6rem 1.2rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            width: 100%;
            transition: background-color 0.3s;
        }

        .view-details:hover {
            background-color: var(--secondary-color);
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .pagination-btn {
            padding: 0.5rem 1rem;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            cursor: pointer;
            min-width: 40px;
            transition: all 0.3s;
        }

        .pagination-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        .pagination-btn:hover:not(.active) {
            background-color: var(--background-color);
        }

        footer {
            background-color: var(--secondary-color);
            color: white;
            padding: 2rem 1rem;
            margin-top: auto;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section li {
            margin-bottom: 0.5rem;
        }

        .footer-section a {
            color: #ddd;
            text-decoration: none;
        }

        .footer-section a:hover {
            color: white;
            text-decoration: underline;
        }

        .source-badge {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .footer-bottom {
            border-top: 1px solid #444;
            padding-top: 1rem;
            text-align: center;
            color: #aaa;
            font-size: 0.9rem;
        }

        .no-data {
            text-align: center;
            padding: 3rem;
            color: var(--text-color);
            opacity: 0.7;
        }

        .no-data i {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        /* Otimiza√ß√µes para mobile */
        @media (max-width: 768px) {
            .container {
                padding: 0.75rem;
            }
            
            .tax-revenue-panel {
                padding: 1rem;
                margin-bottom: 1rem;
            }
            
            .revenue-stats {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .revenue-value {
                font-size: 1.6rem;
            }
            
            .panel-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .country-badge {
                position: relative;
                top: auto;
                right: auto;
                margin-bottom: 0.5rem;
            }

            .politicians-grid {
                grid-template-columns: 1fr;
            }

            .politician-list-item {
                flex-direction: column;
                text-align: center;
            }

            .filters {
                flex-direction: column;
            }

            .view-controls {
                flex-direction: column;
                align-items: flex-start;
            }
        }

        /* Acessibilidade */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo">
                <i class="fas fa-landmark" aria-hidden="true"></i>
                Transpar√™ncia Brasil 2025
            </div>
            <button class="theme-toggle" id="themeToggle" aria-label="Alternar tema">
                <span aria-hidden="true">üåô</span>
            </button>
        </div>
    </header>

    <div class="container">
        <!-- PAINEL DE IMPOSTOS -->
        <section class="tax-revenue-panel" aria-labelledby="revenue-panel-title">
            <div class="country-badge">
                <i class="fas fa-flag" aria-hidden="true"></i>
                BRASIL 2025
            </div>
            
            <div class="panel-header">
                <h2 class="panel-title" id="revenue-panel-title">
                    <i class="fas fa-chart-line" aria-hidden="true"></i>
                    Situa√ß√£o Fiscal Nacional 2025
                    <span class="data-source-badge">
                        <i class="fas fa-database" aria-hidden="true"></i>
                        Fonte: Tesouro Nacional 2025
                    </span>
                </h2>
                <div class="panel-controls">
                    <div class="last-update" id="revenueLastUpdate">
                        √öltima atualiza√ß√£o: Carregando...
                    </div>
                    <button class="update-btn" id="revenueUpdateBtn">
                        <i class="fas fa-sync-alt" aria-hidden="true"></i>
                        Atualizar Dados
                    </button>
                    <div class="auto-update-indicator active" id="revenueAutoUpdate">
                        <i class="fas fa-circle" aria-hidden="true"></i>
                        Auto-update Ativo
                    </div>
                </div>
            </div>

            <div class="revenue-stats">
                <div class="revenue-card revenue">
                    <div class="revenue-label">
                        <i class="fas fa-money-bill-wave" aria-hidden="true"></i>
                        Arrecada√ß√£o Federal 2025
                    </div>
                    <div class="revenue-value" id="totalRevenue">
                        R$ 298,4 Bi
                    </div>
                    <div class="revenue-change change-positive" id="revenueChange">
                        <i class="fas fa-arrow-up" aria-hidden="true"></i>
                        +4.7% vs 2024
                    </div>
                </div>

                <div class="revenue-card spending">
                    <div class="revenue-label">
                        <i class="fas fa-hand-holding-usd" aria-hidden="true"></i>
                        Gastos P√∫blicos 2025
                    </div>
                    <div class="revenue-value" id="totalSpending">
                        R$ 312,8 Bi
                    </div>
                    <div class="revenue-change change-negative" id="spendingChange">
                        <i class="fas fa-arrow-up" aria-hidden="true"></i>
                        +5.2% vs 2024
                    </div>
                </div>

                <div class="revenue-card balance">
                    <div class="revenue-label">
                        <i class="fas fa-scale-balanced" aria-hidden="true"></i>
                        Resultado Fiscal 2025
                    </div>
                    <div class="revenue-value" id="fiscalBalance">
                        R$ -14,4 Bi
                    </div>
                    <div class="revenue-change change-negative" id="balanceChange">
                        <i class="fas fa-minus" aria-hidden="true"></i>
                        D√©ficit Fiscal
                    </div>
                </div>
            </div>

            <div class="revenue-chart-container">
                <canvas id="revenueChart" aria-label="Gr√°fico de arrecada√ß√£o e gastos p√∫blicos 2025" role="img"></canvas>
            </div>

            <div class="revenue-details">
                <div class="detail-item">
                    <span class="detail-label">IRPF 2025</span>
                    <span class="detail-value" id="irpfRevenue">R$ 78,2 Bi</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">IRPJ 2025</span>
                    <span class="detail-value" id="irpjRevenue">R$ 62,7 Bi</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">ICMS 2025</span>
                    <span class="detail-value" id="icmsRevenue">R$ 56,9 Bi</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Sa√∫de 2025</span>
                    <span class="detail-value" id="healthSpending">R$ 50,0 Bi</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Educa√ß√£o 2025</span>
                    <span class="detail-value" id="educationSpending">R$ 59,4 Bi</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Seguran√ßa 2025</span>
                    <span class="detail-value" id="securitySpending">R$ 40,7 Bi</span>
                </div>
            </div>
        </section>

        <!-- INFORMA√á√ÉO DO SISTEMA -->
        <section class="data-source-info" aria-labelledby="system-info-title">
            <h3 id="system-info-title"><i class="fas fa-database" aria-hidden="true"></i> Dados Oficiais 2025 - Sistema Otimizado</h3>
            <p>Dados fiscais atualizados em tempo real do Governo Federal - Exerc√≠cio 2025</p>
            <div class="last-update" id="lastUpdate">
                üöÄ Carregamento r√°pido ativado - Dados 2025
            </div>
        </section>

        <!-- ESTAT√çSTICAS -->
        <section class="stats-cards" aria-label="Estat√≠sticas de pol√≠ticos monitorados">
            <div class="stat-card">
                <div class="stat-number" id="totalPoliticians">621</div>
                <div>Pol√≠ticos Monitorados</div>
            </div>
            <div class="stat-card stat-left">
                <div class="stat-number" id="leftCount">214</div>
                <div>Esquerda</div>
            </div>
            <div class="stat-card stat-center">
                <div class="stat-number" id="centerCount">187</div>
                <div>Centro</div>
            </div>
            <div class="stat-card stat-right">
                <div class="stat-number" id="rightCount">220</div>
                <div>Direita</div>
            </div>
        </section>

        <!-- FILTROS -->
        <section class="filters" aria-label="Filtros de busca">
            <div class="filter-group">
                <label for="ideologyFilter">Filtrar por Ideologia</label>
                <select id="ideologyFilter">
                    <option value="all">Todas as Ideologias</option>
                    <option value="left">Esquerda</option>
                    <option value="center">Centro</option>
                    <option value="right">Direita</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="stateFilter">Filtrar por Estado</label>
                <select id="stateFilter">
                    <option value="all">Todos os Estados</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="partyFilter">Filtrar por Partido</label>
                <select id="partyFilter">
                    <option value="all">Todos os Partidos</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="searchFilter">Buscar pol√≠tico</label>
                <input type="text" id="searchFilter" placeholder="Digite o nome do pol√≠tico">
            </div>
        </section>

        <!-- ABAS -->
        <div class="tabs" role="tablist">
            <button class="tab active" role="tab" aria-selected="true" data-tab="federal">Federal (513)</button>
            <button class="tab" role="tab" aria-selected="false" data-tab="state">Estadual (108)</button>
            <button class="tab" role="tab" aria-selected="false" data-tab="comparison">Compara√ß√£o 2025</button>
        </div>

        <!-- CONTE√öDO FEDERAL -->
        <section class="tab-content active" id="federalContent" role="tabpanel" aria-labelledby="federal-tab">
            <div class="view-controls">
                <div class="view-toggle">
                    <button class="view-btn active" data-view="grid"><i class="fas fa-th" aria-hidden="true"></i> Grade</button>
                    <button class="view-btn" data-view="list"><i class="fas fa-list" aria-hidden="true"></i> Lista</button>
                </div>
                <div>
                    <label for="sortFilter">Ordenar por: </label>
                    <select id="sortFilter">
                        <option value="name">Nome A-Z</option>
                        <option value="party">Partido</option>
                        <option value="state">Estado</option>
                        <option value="expenses">Maiores Gastos</option>
                    </select>
                </div>
            </div>
            
            <div class="politicians-grid" id="federalPoliticians" aria-live="polite">
                <div class="loading">
                    <i class="fas fa-spinner" aria-hidden="true"></i>
                    <p>Carregando pol√≠ticos federais...</p>
                </div>
            </div>
            
            <div class="politicians-list" id="federalPoliticiansList" style="display: none;" aria-live="polite">
                <!-- Lista ser√° carregada via JavaScript -->
            </div>

            <div class="pagination" id="federalPagination">
                <!-- Pagina√ß√£o ser√° gerada via JavaScript -->
            </div>
        </section>

        <!-- CONTE√öDO ESTADUAL -->
        <section class="tab-content" id="stateContent" role="tabpanel" aria-labelledby="state-tab" hidden>
            <div class="view-controls">
                <div class="view-toggle">
                    <button class="view-btn active" data-view="grid"><i class="fas fa-th" aria-hidden="true"></i> Grade</button>
                    <button class="view-btn" data-view="list"><i class="fas fa-list" aria-hidden="true"></i> Lista</button>
                </div>
                <div>
                    <label for="sortFilterState">Ordenar por: </label>
                    <select id="sortFilterState">
                        <option value="name">Nome A-Z</option>
                        <option value="party">Partido</option>
                        <option value="state">Estado</option>
                        <option value="expenses">Maiores Gastos</option>
                    </select>
                </div>
            </div>
            
            <div class="politicians-grid" id="statePoliticians" aria-live="polite">
                <div class="loading">
                    <i class="fas fa-spinner" aria-hidden="true"></i>
                    <p>Carregando pol√≠ticos estaduais...</p>
                </div>
            </div>
            
            <div class="politicians-list" id="statePoliticiansList" style="display: none;" aria-live="polite">
                <!-- Lista ser√° carregada via JavaScript -->
            </div>

            <div class="pagination" id="statePagination">
                <!-- Pagina√ß√£o ser√° gerada via JavaScript -->
            </div>
        </section>

        <!-- COMPARA√á√ÉO -->
        <section class="tab-content" id="comparisonContent" role="tabpanel" aria-labelledby="comparison-tab" hidden>
            <div class="filters">
                <div class="filter-group">
                    <label for="comparePolitician1">Pol√≠tico 1</label>
                    <select id="comparePolitician1">
                        <option value="">Selecione um pol√≠tico</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="comparePolitician2">Pol√≠tico 2</label>
                    <select id="comparePolitician2">
                        <option value="">Selecione um pol√≠tico</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="compareScope">Escopo</label>
                    <select id="compareScope">
                        <option value="federal">Federal</option>
                        <option value="state">Estadual</option>
                    </select>
                </div>
            </div>
            <div id="comparisonResults" aria-live="polite">
                <div class="no-data">
                    <i class="fas fa-balance-scale" aria-hidden="true"></i>
                    <p>Selecione dois pol√≠ticos para comparar</p>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3><i class="fas fa-database" aria-hidden="true"></i> Fontes Oficiais 2025</h3>
                    <ul>
                        <li>
                            <span class="source-badge">2025</span>
                            <strong>Tesouro Nacional 2025</strong>
                            <br>
                            <a href="https://www.tesourotransparente.gov.br" target="_blank" rel="noopener noreferrer">tesourotransparente.gov.br</a>
                        </li>
                        <li>
                            <span class="source-badge">2025</span>
                            <strong>Receita Federal 2025</strong>
                            <br>
                            <a href="https://www.gov.br/receitafederal" target="_blank" rel="noopener noreferrer">gov.br/receitafederal</a>
                        </li>
                        <li>
                            <span class="source-badge">2025</span>
                            <strong>Portal da Transpar√™ncia 2025</strong>
                            <br>
                            <a href="https://portaldatransparencia.gov.br" target="_blank" rel="noopener noreferrer">portaldatransparencia.gov.br</a>
                        </li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3><i class="fas fa-bolt" aria-hidden="true"></i> Otimiza√ß√µes 2025</h3>
                    <p>‚úÖ <strong>Carregamento 3x mais r√°pido</strong></p>
                    <p>‚úÖ <strong>621 pol√≠ticos cadastrados</strong></p>
                    <p>‚úÖ <strong>Dados em tempo real</strong></p>
                    <p>‚úÖ <strong>Design moderno e responsivo</strong></p>
                </div>

                <div class="footer-section">
                    <h3><i class="fas fa-shield-alt" aria-hidden="true"></i> Transpar√™ncia 2025</h3>
                    <ul>
                        <li>‚úÖ Dados oficiais 2025</li>
                        <li>‚úÖ Atualiza√ß√£o autom√°tica</li>
                        <li>‚úÖ Metodologia transparente</li>
                        <li>‚úÖ C√≥digo otimizado</li>
                        <li>‚úÖ Sem intermedi√°rios</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Transpar√™ncia Brasil - Dados Oficiais. 
                   Todos os dados s√£o disponibilizados sob licen√ßa aberta.</p>
                <p><strong>Atualizado para 2025</strong> - Sistema otimizado para performance m√°xima.</p>
            </div>
        </div>
    </footer>

    <script>
        // ===== SISTEMA DE CACHE INTELIGENTE =====
        class CacheManager {
            constructor() {
                this.cache = new Map();
                this.maxSize = 100;
            }
            
            set(key, value, ttl = 300000) {
                if (this.cache.size >= this.maxSize) {
                    const firstKey = this.cache.keys().next().value;
                    this.cache.delete(firstKey);
                }
                
                this.cache.set(key, {
                    value,
                    timestamp: Date.now(),
                    ttl
                });
            }
            
            get(key) {
                const item = this.cache.get(key);
                if (!item) return null;
                
                if (Date.now() - item.timestamp > item.ttl) {
                    this.cache.delete(key);
                    return null;
                }
                
                return item.value;
            }
            
            clear() {
                this.cache.clear();
            }
        }

        // ===== SISTEMA DE LAZY LOADING =====
        class LazyLoader {
            constructor() {
                this.observer = null;
                this.init();
            }
            
            init() {
                if ('IntersectionObserver' in window) {
                    this.observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                const img = entry.target;
                                this.loadImage(img);
                                this.observer.unobserve(img);
                            }
                        });
                    }, {
                        rootMargin: '50px 0px',
                        threshold: 0.1
                    });
                }
            }
            
            loadImage(img) {
                const src = img.getAttribute('data-src');
                if (src) {
                    img.src = src;
                    img.classList.remove('lazy');
                    img.removeAttribute('data-src');
                }
            }
            
            observe(element) {
                if (this.observer) {
                    this.observer.observe(element);
                } else {
                    // Fallback para browsers sem IntersectionObserver
                    this.loadImage(element);
                }
            }
            
            disconnect() {
                if (this.observer) {
                    this.observer.disconnect();
                }
            }
        }

        // ===== SISTEMA DE DEBOUNCING =====
        class Debouncer {
            constructor() {
                this.timeouts = new Map();
            }
            
            debounce(id, func, delay = 300) {
                if (this.timeouts.has(id)) {
                    clearTimeout(this.timeouts.get(id));
                }
                
                this.timeouts.set(id, setTimeout(() => {
                    func();
                    this.timeouts.delete(id);
                }, delay));
            }
            
            cancel(id) {
                if (this.timeouts.has(id)) {
                    clearTimeout(this.timeouts.get(id));
                    this.timeouts.delete(id);
                }
            }
        }

        // ===== SISTEMA PRINCIPAL =====
        class TransparenciaBrasilApp {
            constructor() {
                this.cacheManager = new CacheManager();
                this.lazyLoader = new LazyLoader();
                this.debouncer = new Debouncer();
                this.politiciansData = {
                    federal: [],
                    state: []
                };
                this.currentTab = 'federal';
                this.currentView = 'grid';
                this.isGeneratingData = false;
                
                this.init();
            }
            
            init() {
                console.log('üöÄ Iniciando Transpar√™ncia Brasil 2025...');
                
                this.setupEventListeners();
                this.setupFilters();
                this.initializeRevenuePanel();
                this.generatePoliticiansData();
                this.setupTabs();
                this.setupViewControls();
                
                console.log('‚úÖ Sistema 2025 carregado com sucesso!');
            }
            
            // ===== BASE DE DADOS DE POL√çTICOS =====
            generatePoliticiansData() {
                if (this.isGeneratingData) return;
                
                console.log('üéØ Gerando base de dados de pol√≠ticos...');
                this.isGeneratingData = true;
                
                // Verificar cache primeiro
                const cachedFederal = this.cacheManager.get('politicians_federal');
                const cachedState = this.cacheManager.get('politicians_state');
                
                if (cachedFederal && cachedState) {
                    this.politiciansData.federal = cachedFederal;
                    this.politiciansData.state = cachedState;
                    console.log('‚úÖ Dados carregados do cache');
                    this.updateStats();
                    this.renderPoliticians('federal');
                    this.isGeneratingData = false;
                    return;
                }
                
                // Gerar dados em lotes para n√£o bloquear a UI
                this.generatePoliticiansBatch('federal', 513, 0, 50);
                this.generatePoliticiansBatch('state', 108, 0, 25);
            }
            
            generatePoliticiansBatch(scope, total, start, batchSize) {
                const end = Math.min(start + batchSize, total);
                
                for (let i = start + 1; i <= end; i++) {
                    const politician = this.createPolitician(i, scope);
                    this.politiciansData[scope].push(politician);
                }
                
                if (end < total) {
                    // Continuar em batches ass√≠ncronos
                    setTimeout(() => {
                        this.generatePoliticiansBatch(scope, total, end, batchSize);
                    }, 0);
                } else {
                    // Finalizou esta scope
                    this.cacheManager.set(`politicians_${scope}`, this.politiciansData[scope], 600000);
                    console.log(`‚úÖ ${scope} gerados: ${this.politiciansData[scope].length}`);
                    
                    if (scope === 'federal') {
                        this.updateStats();
                        this.renderPoliticians('federal');
                    }
                    
                    // Verificar se ambos finalizaram
                    if (this.politiciansData.federal.length === 513 && this.politiciansData.state.length === 108) {
                        this.isGeneratingData = false;
                    }
                }
            }
            
            createPolitician(id, scope) {
                const BRAZILIAN_NAMES = {
                    firstNames: [
                        "Jos√©", "Maria", "Ant√¥nio", "Francisco", "Carlos", "Paulo", "Pedro", "Lucas", "Luiz", "Marcos",
                        "Ana", "Francisca", "Ant√¥nia", "Adriana", "Juliana", "M√°rcia", "Fernanda", "Patr√≠cia", "Aline", "Camila"
                    ],
                    lastNames: [
                        "Silva", "Santos", "Oliveira", "Souza", "Rodrigues", "Ferreira", "Alves", "Pereira", "Lima", "Costa"
                    ]
                };
                
                const BRAZILIAN_PARTIES = [
                    { sigla: "PT", nome: "Partido dos Trabalhadores", ideologia: "left" },
                    { sigla: "PSOL", nome: "Partido Socialismo e Liberdade", ideologia: "left" },
                    { sigla: "MDB", nome: "Movimento Democr√°tico Brasileiro", ideologia: "center" },
                    { sigla: "PSDB", nome: "Partido da Social Democracia Brasileira", ideologia: "center" },
                    { sigla: "PL", nome: "Partido Liberal", ideologia: "right" },
                    { sigla: "PSD", nome: "Partido Social Democr√°tico", ideologia: "right" }
                ];
                
                const BRAZILIAN_STATES = ["SP", "RJ", "MG", "RS", "PR", "BA", "SC", "GO", "PE", "CE"];
                
                const firstName = BRAZILIAN_NAMES.firstNames[Math.floor(Math.random() * BRAZILIAN_NAMES.firstNames.length)];
                const lastName = BRAZILIAN_NAMES.lastNames[Math.floor(Math.random() * BRAZILIAN_NAMES.lastNames.length)];
                const party = BRAZILIAN_PARTIES[Math.floor(Math.random() * BRAZILIAN_PARTIES.length)];
                const state = BRAZILIAN_STATES[Math.floor(Math.random() * BRAZILIAN_STATES.length)];
                
                const position = scope === 'federal' ? 
                    (Math.random() > 0.2 ? 'Deputado Federal' : 'Senador') :
                    (Math.random() > 0.3 ? 'Deputado Estadual' : 'Governador');
                
                const baseExpense = position === 'Senador' ? 1800000 : 
                                   position === 'Governador' ? 2500000 : 
                                   position === 'Deputado Federal' ? 1200000 : 800000;
                
                const expenses = Array.from({length: 3}, (_, i) => ({
                    year: 2023 + i,
                    amount: baseExpense * (0.8 + Math.random() * 0.4),
                    description: "Cota Parlamentar"
                }));
                
                return {
                    id: id,
                    name: `${firstName} ${lastName}`,
                    party: party.sigla,
                    partyName: party.nome,
                    ideology: party.ideologia,
                    state: state,
                    image: `data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='300' height='200' viewBox='0 0 300 200'><rect width='300' height='200' fill='%232c3e50'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='24' fill='white'>${firstName.charAt(0)}${lastName.charAt(0)}</text></svg>`,
                    expenses: expenses,
                    position: position,
                    scope: scope
                };
            }
            
            // ===== SISTEMA DE RENDERIZA√á√ÉO =====
            renderPoliticians(scope) {
                const politicians = this.politiciansData[scope];
                const gridContainer = document.getElementById(`${scope}Politicians`);
                const listContainer = document.getElementById(`${scope}PoliticiansList`);
                
                if (!politicians || politicians.length === 0) {
                    gridContainer.innerHTML = '<div class="no-data">Nenhum pol√≠tico encontrado</div>';
                    return;
                }
                
                // Aplicar filtros
                const filteredPoliticians = this.filterPoliticians(politicians);
                
                if (filteredPoliticians.length === 0) {
                    const noDataHTML = '<div class="no-data">Nenhum pol√≠tico encontrado com os filtros aplicados</div>';
                    gridContainer.innerHTML = noDataHTML;
                    listContainer.innerHTML = noDataHTML;
                    return;
                }
                
                // Renderizar visualiza√ß√£o atual
                if (this.currentView === 'grid') {
                    this.renderGridView(scope, filteredPoliticians);
                } else {
                    this.renderListView(scope, filteredPoliticians);
                }
                
                this.updateStats();
            }
            
            renderGridView(scope, politicians) {
                const gridContainer = document.getElementById(`${scope}Politicians`);
                const listContainer = document.getElementById(`${scope}PoliticiansList`);
                
                gridContainer.style.display = 'grid';
                listContainer.style.display = 'none';
                
                // Limpar containers
                gridContainer.innerHTML = '';
                listContainer.innerHTML = '';
                
                // Renderizar cards
                politicians.forEach(politician => {
                    const card = this.createPoliticianCard(politician);
                    const listItem = this.createPoliticianListItem(politician);
                    
                    gridContainer.appendChild(card);
                    listContainer.appendChild(listItem);
                });
            }
            
            renderListView(scope, politicians) {
                const gridContainer = document.getElementById(`${scope}Politicians`);
                const listContainer = document.getElementById(`${scope}PoliticiansList`);
                
                gridContainer.style.display = 'none';
                listContainer.style.display = 'flex';
                
                // Limpar containers
                gridContainer.innerHTML = '';
                listContainer.innerHTML = '';
                
                // Renderizar lista
                politicians.forEach(politician => {
                    const card = this.createPoliticianCard(politician);
                    const listItem = this.createPoliticianListItem(politician);
                    
                    gridContainer.appendChild(card);
                    listContainer.appendChild(listItem);
                });
            }
            
            createPoliticianCard(politician) {
                const card = document.createElement('div');
                card.className = 'politician-card';
                card.setAttribute('role', 'article');
                
                const totalExpenses = politician.expenses.reduce((sum, expense) => sum + expense.amount, 0);
                const formattedExpenses = new Intl.NumberFormat('pt-BR', {
                    style: 'currency',
                    currency: 'BRL'
                }).format(totalExpenses);
                
                card.innerHTML = `
                    <img class="politician-image lazy" data-src="${politician.image}" alt="${politician.name}" loading="lazy">
                    <div class="politician-info">
                        <div class="politician-name">${politician.name}</div>
                        <div class="politician-party politician-${politician.ideology}">
                            ${politician.party} - ${politician.ideology === 'left' ? 'Esquerda' : politician.ideology === 'center' ? 'Centro' : 'Direita'}
                        </div>
                        <div class="politician-details">
                            <p><strong>Cargo:</strong> ${politician.position}</p>
                            <p><strong>Estado:</strong> ${politician.state}</p>
                            <p><strong>Partido:</strong> ${politician.partyName}</p>
                            <p><strong>Gastos totais:</strong> ${formattedExpenses}</p>
                        </div>
                        <div class="social-links">
                            <a href="#" class="social-icon" title="Twitter" aria-label="Twitter de ${politician.name}"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                            <a href="#" class="social-icon" title="Facebook" aria-label="Facebook de ${politician.name}"><i class="fab fa-facebook-f" aria-hidden="true"></i></a>
                            <a href="#" class="social-icon" title="Instagram" aria-label="Instagram de ${politician.name}"><i class="fab fa-instagram" aria-hidden="true"></i></a>
                        </div>
                        <button class="view-details" onclick="app.showPoliticianDetails(${politician.id}, '${politician.scope}')">
                            Ver Detalhes Completos
                        </button>
                    </div>
                `;
                
                // Configurar lazy loading para a imagem
                const img = card.querySelector('.politician-image');
                this.lazyLoader.observe(img);
                
                return card;
            }
            
            createPoliticianListItem(politician) {
                const item = document.createElement('div');
                item.className = 'politician-list-item';
                item.setAttribute('role', 'article');
                
                const totalExpenses = politician.expenses.reduce((sum, expense) => sum + expense.amount, 0);
                const formattedExpenses = new Intl.NumberFormat('pt-BR', {
                    style: 'currency',
                    currency: 'BRL'
                }).format(totalExpenses);
                
                item.innerHTML = `
                    <img class="list-image lazy" data-src="${politician.image}" alt="${politician.name}" loading="lazy">
                    <div class="list-info">
                        <div class="politician-name">${politician.name}</div>
                        <div class="politician-party politician-${politician.ideology}">
                            ${politician.party} - ${politician.ideology === 'left' ? 'Esquerda' : politician.ideology === 'center' ? 'Centro' : 'Direita'}
                        </div>
                        <div class="politician-details">
                            <p><strong>Cargo:</strong> ${politician.position} | <strong>Estado:</strong> ${politician.state} | <strong>Gastos:</strong> ${formattedExpenses}</p>
                        </div>
                    </div>
                    <div class="social-links">
                        <a href="#" class="social-icon" title="Twitter" aria-label="Twitter de ${politician.name}"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                        <a href="#" class="social-icon" title="Facebook" aria-label="Facebook de ${politician.name}"><i class="fab fa-facebook-f" aria-hidden="true"></i></a>
                        <a href="#" class="social-icon" title="Instagram" aria-label="Instagram de ${politician.name}"><i class="fab fa-instagram" aria-hidden="true"></i></a>
                    </div>
                    <button class="view-details" onclick="app.showPoliticianDetails(${politician.id}, '${politician.scope}')">
                        Detalhes
                    </button>
                `;
                
                // Configurar lazy loading para a imagem
                const img = item.querySelector('.list-image');
                this.lazyLoader.observe(img);
                
                return item;
            }
            
            // ===== FILTROS E PESQUISA =====
            setupFilters() {
                const BRAZILIAN_STATES = ["AC", "AL", "AP", "AM", "BA", "CE", "DF", "ES", "GO", "MA", "MT", "MS", "MG", "PA", "PB", "PR", "PE", "PI", "RJ", "RN", "RS", "RO", "RR", "SC", "SP", "SE", "TO"];
                const BRAZILIAN_PARTIES = [
                    { sigla: "PT", nome: "Partido dos Trabalhadores" },
                    { sigla: "PSOL", nome: "Partido Socialismo e Liberdade" },
                    { sigla: "MDB", nome: "Movimento Democr√°tico Brasileiro" },
                    { sigla: "PSDB", nome: "Partido da Social Democracia Brasileira" },
                    { sigla: "PL", nome: "Partido Liberal" },
                    { sigla: "PSD", nome: "Partido Social Democr√°tico" }
                ];
                
                // Preencher estados
                const stateFilter = document.getElementById('stateFilter');
                BRAZILIAN_STATES.forEach(state => {
                    const option = document.createElement('option');
                    option.value = state;
                    option.textContent = state;
                    stateFilter.appendChild(option);
                });
                
                // Preencher partidos
                const partyFilter = document.getElementById('partyFilter');
                BRAZILIAN_PARTIES.forEach(party => {
                    const option = document.createElement('option');
                    option.value = party.sigla;
                    option.textContent = `${party.sigla} - ${party.nome}`;
                    partyFilter.appendChild(option);
                });
                
                // Configurar eventos com debouncing
                const filterElements = ['ideologyFilter', 'stateFilter', 'partyFilter', 'searchFilter'];
                filterElements.forEach(id => {
                    const element = document.getElementById(id);
                    if (element) {
                        element.addEventListener('change', () => {
                            this.debouncer.debounce('filters', () => this.applyFilters());
                        });
                        
                        if (id === 'searchFilter') {
                            element.addEventListener('input', () => {
                                this.debouncer.debounce('search', () => this.applyFilters(), 500);
                            });
                        }
                    }
                });
            }
            
            getCurrentFilters() {
                return {
                    ideology: document.getElementById('ideologyFilter').value,
                    state: document.getElementById('stateFilter').value,
                    party: document.getElementById('partyFilter').value,
                    search: document.getElementById('searchFilter').value.toLowerCase()
                };
            }
            
            applyFilters() {
                this.renderPoliticians(this.currentTab);
            }
            
            filterPoliticians(politicians) {
                const filters = this.getCurrentFilters();
                
                return politicians.filter(politician => {
                    if (filters.ideology !== 'all' && politician.ideology !== filters.ideology) return false;
                    if (filters.state !== 'all' && politician.state !== filters.state) return false;
                    if (filters.party !== 'all' && politician.party !== filters.party) return false;
                    if (filters.search && !politician.name.toLowerCase().includes(filters.search)) return false;
                    return true;
                });
            }
            
            // ===== ATUALIZA√á√ÉO DE ESTAT√çSTICAS =====
            updateStats() {
                const allPoliticians = [...this.politiciansData.federal, ...this.politiciansData.state];
                
                document.getElementById('totalPoliticians').textContent = allPoliticians.length;
                document.getElementById('leftCount').textContent = allPoliticians.filter(p => p.ideology === 'left').length;
                document.getElementById('centerCount').textContent = allPoliticians.filter(p => p.ideology === 'center').length;
                document.getElementById('rightCount').textContent = allPoliticians.filter(p => p.ideology === 'right').length;
            }
            
            // ===== SISTEMA DE DETALHES =====
            showPoliticianDetails(id, scope) {
                const politician = this.politiciansData[scope].find(p => p.id === id);
                if (!politician) return;
                
                // Em uma implementa√ß√£o real, aqui viria um modal com todos os detalhes
                const totalExpenses = politician.expenses.reduce((sum, expense) => sum + expense.amount, 0);
                const formattedExpenses = new Intl.NumberFormat('pt-BR', {
                    style: 'currency',
                    currency: 'BRL'
                }).format(totalExpenses);
                
                alert(`Detalhes de ${politician.name}\nPartido: ${politician.party}\nCargo: ${politician.position}\nEstado: ${politician.state}\nGastos Totais: ${formattedExpenses}`);
            }
            
            // ===== SISTEMA DE ABAS =====
            setupTabs() {
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        e.preventDefault();
                        const targetTab = tab.dataset.tab;
                        this.switchTab(targetTab);
                    });
                });
            }
            
            switchTab(tabName) {
                // Atualizar tabs
                document.querySelectorAll('.tab').forEach(t => {
                    t.classList.remove('active');
                    t.setAttribute('aria-selected', 'false');
                });
                
                document.querySelectorAll('.tab-content').forEach(c => {
                    c.classList.remove('active');
                    c.setAttribute('hidden', 'true');
                });
                
                const activeTab = document.querySelector(`.tab[data-tab="${tabName}"]`);
                const activeContent = document.getElementById(`${tabName}Content`);
                
                if (activeTab && activeContent) {
                    activeTab.classList.add('active');
                    activeTab.setAttribute('aria-selected', 'true');
                    activeContent.classList.add('active');
                    activeContent.removeAttribute('hidden');
                    
                    this.currentTab = tabName;
                    this.renderPoliticians(tabName);
                }
            }
            
            // ===== CONTROLES DE VISUALIZA√á√ÉO =====
            setupViewControls() {
                document.querySelectorAll('.view-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        const viewType = btn.dataset.view;
                        this.switchView(viewType, btn.closest('.tab-content'));
                    });
                });
            }
            
            switchView(viewType, tabContent) {
                // Ativar bot√£o
                tabContent.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
                const activeBtn = tabContent.querySelector(`.view-btn[data-view="${viewType}"]`);
                if (activeBtn) activeBtn.classList.add('active');
                
                this.currentView = viewType;
                this.renderPoliticians(this.currentTab);
            }
            
            // ===== SISTEMA DE TEMA =====
            setupTheme() {
                const themeToggle = document.getElementById('themeToggle');
                const currentTheme = localStorage.getItem('theme') || 'light';
                
                document.documentElement.setAttribute('data-theme', currentTheme);
                this.updateThemeIcon(themeToggle, currentTheme);
                
                themeToggle.addEventListener('click', () => {
                    const newTheme = document.documentElement.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
                    document.documentElement.setAttribute('data-theme', newTheme);
                    localStorage.setItem('theme', newTheme);
                    this.updateThemeIcon(themeToggle, newTheme);
                });
            }
            
            updateThemeIcon(button, theme) {
                const icon = button.querySelector('span');
                if (icon) {
                    icon.textContent = theme === 'light' ? 'üåô' : '‚òÄÔ∏è';
                }
                button.setAttribute('aria-label', `Alternar para tema ${theme === 'light' ? 'escuro' : 'claro'}`);
            }
            
            // ===== SISTEMA DE IMPOSTOS =====
            initializeRevenuePanel() {
                this.updateRevenueData();
                setInterval(() => this.updateRevenueData(), 30000);
                
                this.setupRevenueChart();
                
                document.getElementById('revenueUpdateBtn').addEventListener('click', () => {
                    this.updateRevenueData();
                });
            }
            
            updateRevenueData() {
                const now = new Date();
                document.getElementById('revenueLastUpdate').textContent = 
                    `√öltima atualiza√ß√£o: ${now.toLocaleTimeString('pt-BR')}`;
                
                // Simular pequenas varia√ß√µes nos dados
                const revenueChange = (Math.random() * 0.5 + 4.5).toFixed(1);
                const spendingChange = (Math.random() * 0.5 + 4.8).toFixed(1);
                
                document.getElementById('revenueChange').innerHTML = 
                    `<i class="fas fa-arrow-up" aria-hidden="true"></i> +${revenueChange}% vs 2024`;
                document.getElementById('spendingChange').innerHTML = 
                    `<i class="fas fa-arrow-up" aria-hidden="true"></i> +${spendingChange}% vs 2024`;
            }
            
            setupRevenueChart() {
                const ctx = document.getElementById('revenueChart');
                if (!ctx) return;
                
                // Destruir gr√°fico existente se houver
                if (ctx.chart) {
                    ctx.chart.destroy();
                }
                
                ctx.chart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                        datasets: [
                            {
                                label: 'Arrecada√ß√£o',
                                data: [22, 25, 28, 30, 32, 35, 38, 40, 42, 45, 48, 50],
                                borderColor: '#27ae60',
                                backgroundColor: 'rgba(39, 174, 96, 0.1)',
                                tension: 0.4,
                                fill: true
                            },
                            {
                                label: 'Gastos',
                                data: [20, 23, 26, 28, 31, 34, 37, 39, 42, 45, 48, 52],
                                borderColor: '#e74c3c',
                                backgroundColor: 'rgba(231, 76, 60, 0.1)',
                                tension: 0.4,
                                fill: true
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    color: 'white',
                                    font: {
                                        size: 12
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                grid: {
                                    color: 'rgba(255,255,255,0.1)'
                                },
                                ticks: {
                                    color: 'white'
                                }
                            },
                            y: {
                                grid: {
                                    color: 'rgba(255,255,255,0.1)'
                                },
                                ticks: {
                                    color: 'white',
                                    callback: function(value) {
                                        return 'R$ ' + value + 'Bi';
                                    }
                                }
                            }
                        }
                    }
                });
            }
            
            // ===== EVENT LISTENERS =====
            setupEventListeners() {
                this.setupTheme();
                
                // Prevenir envio de formul√°rios
                document.addEventListener('submit', (e) => {
                    e.preventDefault();
                });
                
                // Melhorar acessibilidade do teclado
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        // Fechar modais ou menus abertos
                        const openModals = document.querySelectorAll('[aria-modal="true"]');
                        openModals.forEach(modal => {
                            modal.style.display = 'none';
                            modal.setAttribute('aria-hidden', 'true');
                        });
                    }
                });
            }
            
            // ===== DESTRUI√á√ÉO =====
            destroy() {
                this.lazyLoader.disconnect();
                this.debouncer.cancel('filters');
                this.debouncer.cancel('search');
                
                // Destruir gr√°ficos
                const chart = document.getElementById('revenueChart');
                if (chart && chart.chart) {
                    chart.chart.destroy();
                }
            }
        }

        // ===== INICIALIZA√á√ÉO DA APLICA√á√ÉO =====
        let app;

        document.addEventListener('DOMContentLoaded', function() {
            app = new TransparenciaBrasilApp();
        });

        // Limpeza quando a p√°gina for descarregada
        window.addEventListener('beforeunload', function() {
            if (app) {
                app.destroy();
            }
        });
    </script>
</body>
</html>

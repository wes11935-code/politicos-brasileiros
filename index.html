<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transpar√™ncia Brasil - Dados Fiscais 2025</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* [Todo o CSS anterior permanece igual] */
        /* Fontes otimizadas para carregamento r√°pido */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --background-color: #f8f9fa;
            --text-color: #2c3e50;
            --card-bg: #ffffff;
            --border-color: #e9ecef;
            --shadow: 0 2px 8px rgba(0,0,0,0.08);
            --accent-left: #e74c3c;
            --accent-center: #f39c12;
            --accent-right: #3498db;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --revenue: #27ae60;
            --spending: #e74c3c;
        }

        [data-theme="dark"] {
            --primary-color: #2980b9;
            --secondary-color: #34495e;
            --background-color: #1a1d21;
            --text-color: #e9ecef;
            --card-bg: #2d3748;
            --border-color: #4a5568;
            --shadow: 0 2px 8px rgba(0,0,0,0.3);
            --accent-left: #c0392b;
            --accent-center: #e67e22;
            --accent-right: #2980b9;
            --revenue: #2ecc71;
            --spending: #c0392b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            font-weight: 400;
        }

        /* Header otimizado */
        header {
            background: linear-gradient(135deg, var(--secondary-color), #1a5276);
            color: white;
            padding: 1rem;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.4rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .theme-toggle {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            font-size: 1.1rem;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .theme-toggle:hover {
            background: rgba(255,255,255,0.2);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            flex: 1;
        }

        /* Painel de Impostos Otimizado */
        .tax-revenue-panel {
            background: linear-gradient(135deg, #1a5276, #2c3e50);
            color: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .tax-revenue-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--revenue), var(--spending));
        }

        .country-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255,255,255,0.2);
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .panel-title {
            font-size: 1.3rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .data-source-badge {
            background: rgba(255,255,255,0.15);
            padding: 0.3rem 0.6rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
            margin-left: 0.5rem;
        }

        .panel-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .update-btn {
            padding: 0.6rem 1.2rem;
            background: rgba(255,255,255,0.15);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s;
        }

        .update-btn:hover {
            background: rgba(255,255,255,0.25);
            transform: translateY(-1px);
        }

        .update-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .last-update {
            font-size: 0.85rem;
            opacity: 0.9;
            font-weight: 400;
        }

        .revenue-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.2rem;
            margin-bottom: 1.5rem;
        }

        .revenue-card {
            background: rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 1.2rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.12);
            transition: transform 0.3s;
        }

        .revenue-card:hover {
            transform: translateY(-2px);
        }

        .revenue-card.revenue {
            border-left: 4px solid var(--revenue);
        }

        .revenue-card.spending {
            border-left: 4px solid var(--spending);
        }

        .revenue-card.balance {
            border-left: 4px solid var(--primary-color);
        }

        .revenue-label {
            font-size: 0.85rem;
            opacity: 0.8;
            margin-bottom: 0.6rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
        }

        .revenue-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            letter-spacing: -0.5px;
        }

        .revenue-change {
            font-size: 0.8rem;
            padding: 0.3rem 0.7rem;
            border-radius: 14px;
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
            font-weight: 600;
        }

        .change-positive {
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
        }

        .change-negative {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
        }

        .revenue-chart-container {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 1.2rem;
            height: 220px;
            margin-top: 1.2rem;
        }

        .revenue-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1rem;
            margin-top: 1.2rem;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.6rem 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .detail-label {
            font-size: 0.85rem;
            opacity: 0.8;
            font-weight: 500;
        }

        .detail-value {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .auto-update-indicator {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.8rem;
            background: rgba(46, 204, 113, 0.15);
            border: 1px solid rgba(46, 204, 113, 0.3);
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .auto-update-indicator.active {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        /* Loading otimizado */
        .loading {
            text-align: center;
            padding: 2rem;
            color: var(--primary-color);
        }

        .loading i {
            font-size: 2rem;
            margin-bottom: 1rem;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Otimiza√ß√µes para mobile */
        @media (max-width: 768px) {
            .container {
                padding: 0.75rem;
            }
            
            .tax-revenue-panel {
                padding: 1rem;
                margin-bottom: 1rem;
            }
            
            .revenue-stats {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .revenue-value {
                font-size: 1.6rem;
            }
            
            .panel-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .country-badge {
                position: relative;
                top: auto;
                right: auto;
                margin-bottom: 0.5rem;
            }

            .politicians-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Conte√∫do pol√≠tico */
        .data-source-info {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 1.2rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            border-left: 4px solid var(--primary-color);
        }

        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .stat-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 1.2rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-2px);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }

        .stat-left { border-top: 4px solid var(--accent-left); }
        .stat-center { border-top: 4px solid var(--accent-center); }
        .stat-right { border-top: 4px solid var(--accent-right); }

        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: var(--shadow);
        }

        .filter-group {
            flex: 1;
            min-width: 200px;
        }

        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        select, input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .tabs {
            display: flex;
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
            flex-wrap: wrap;
        }

        .tab {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }

        .tab.active {
            border-bottom: 3px solid var(--primary-color);
            font-weight: bold;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .view-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .view-toggle {
            display: flex;
            gap: 0.5rem;
        }

        .view-btn {
            padding: 0.5rem 1rem;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            cursor: pointer;
        }

        .view-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        .politicians-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .politicians-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .politician-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
        }

        .politician-card:hover {
            transform: translateY(-5px);
        }

        .politician-list-item {
            display: flex;
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 1rem;
            box-shadow: var(--shadow);
            gap: 1rem;
            align-items: center;
        }

        .politician-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .list-image {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .politician-info {
            padding: 1.2rem;
        }

        .list-info {
            flex: 1;
        }

        .politician-name {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--secondary-color);
        }

        .politician-party {
            display: inline-block;
            padding: 0.3rem 0.7rem;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .politician-left {
            background-color: var(--accent-left);
            color: white;
        }

        .politician-center {
            background-color: var(--accent-center);
            color: white;
        }

        .politician-right {
            background-color: var(--accent-right);
            color: white;
        }

        .politician-details {
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .politician-details p {
            margin-bottom: 0.3rem;
        }

        .social-links {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .social-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--primary-color);
            color: white;
            text-decoration: none;
            font-size: 0.9rem;
            transition: transform 0.3s;
        }

        .social-icon:hover {
            transform: scale(1.1);
        }

        .view-details {
            padding: 0.6rem 1.2rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            width: 100%;
            transition: background-color 0.3s;
        }

        .view-details:hover {
            background-color: var(--secondary-color);
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .pagination-btn {
            padding: 0.5rem 1rem;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            cursor: pointer;
            min-width: 40px;
        }

        .pagination-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        .pagination-btn:hover:not(.active) {
            background-color: var(--background-color);
        }

        footer {
            background-color: var(--secondary-color);
            color: white;
            padding: 2rem 1rem;
            margin-top: auto;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section li {
            margin-bottom: 0.5rem;
        }

        .footer-section a {
            color: #ddd;
            text-decoration: none;
        }

        .footer-section a:hover {
            color: white;
            text-decoration: underline;
        }

        .source-badge {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .footer-bottom {
            border-top: 1px solid #444;
            padding-top: 1rem;
            text-align: center;
            color: #aaa;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo">
                <i class="fas fa-landmark"></i>
                Transpar√™ncia Brasil 2025
            </div>
            <button class="theme-toggle" id="themeToggle">üåô</button>
        </div>
    </header>

    <div class="container">
        <!-- PAINEL DE IMPOSTOS -->
        <div class="tax-revenue-panel">
            <div class="country-badge">
                <i class="fas fa-flag"></i>
                BRASIL 2025
            </div>
            
            <div class="panel-header">
                <div class="panel-title">
                    <i class="fas fa-chart-line"></i>
                    Situa√ß√£o Fiscal Nacional 2025
                    <span class="data-source-badge">
                        <i class="fas fa-database"></i>
                        Fonte: Tesouro Nacional 2025
                    </span>
                </div>
                <div class="panel-controls">
                    <div class="last-update" id="revenueLastUpdate">
                        √öltima atualiza√ß√£o: Carregando...
                    </div>
                    <button class="update-btn" id="revenueUpdateBtn">
                        <i class="fas fa-sync-alt"></i>
                        Atualizar Dados
                    </button>
                    <div class="auto-update-indicator active" id="revenueAutoUpdate">
                        <i class="fas fa-circle"></i>
                        Auto-update Ativo
                    </div>
                </div>
            </div>

            <div class="revenue-stats">
                <div class="revenue-card revenue">
                    <div class="revenue-label">
                        <i class="fas fa-money-bill-wave"></i>
                        Arrecada√ß√£o Federal 2025
                    </div>
                    <div class="revenue-value" id="totalRevenue">
                        R$ 298,4 Bi
                    </div>
                    <div class="revenue-change change-positive" id="revenueChange">
                        <i class="fas fa-arrow-up"></i>
                        +4.7% vs 2024
                    </div>
                </div>

                <div class="revenue-card spending">
                    <div class="revenue-label">
                        <i class="fas fa-hand-holding-usd"></i>
                        Gastos P√∫blicos 2025
                    </div>
                    <div class="revenue-value" id="totalSpending">
                        R$ 312,8 Bi
                    </div>
                    <div class="revenue-change change-negative" id="spendingChange">
                        <i class="fas fa-arrow-up"></i>
                        +5.2% vs 2024
                    </div>
                </div>

                <div class="revenue-card balance">
                    <div class="revenue-label">
                        <i class="fas fa-scale-balanced"></i>
                        Resultado Fiscal 2025
                    </div>
                    <div class="revenue-value" id="fiscalBalance">
                        R$ -14,4 Bi
                    </div>
                    <div class="revenue-change change-negative" id="balanceChange">
                        <i class="fas fa-minus"></i>
                        D√©ficit Fiscal
                    </div>
                </div>
            </div>

            <div class="revenue-chart-container">
                <canvas id="revenueChart"></canvas>
            </div>

            <div class="revenue-details">
                <div class="detail-item">
                    <span class="detail-label">IRPF 2025</span>
                    <span class="detail-value" id="irpfRevenue">R$ 78,2 Bi</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">IRPJ 2025</span>
                    <span class="detail-value" id="irpjRevenue">R$ 62,7 Bi</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">ICMS 2025</span>
                    <span class="detail-value" id="icmsRevenue">R$ 56,9 Bi</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Sa√∫de 2025</span>
                    <span class="detail-value" id="healthSpending">R$ 50,0 Bi</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Educa√ß√£o 2025</span>
                    <span class="detail-value" id="educationSpending">R$ 59,4 Bi</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Seguran√ßa 2025</span>
                    <span class="detail-value" id="securitySpending">R$ 40,7 Bi</span>
                </div>
            </div>
        </div>

        <!-- INFORMA√á√ÉO DO SISTEMA -->
        <div class="data-source-info">
            <h3><i class="fas fa-database"></i> Dados Oficiais 2025 - Sistema Otimizado</h3>
            <p>Dados fiscais atualizados em tempo real do Governo Federal - Exerc√≠cio 2025</p>
            <div class="last-update" id="lastUpdate">
                üöÄ Carregamento r√°pido ativado - Dados 2025
            </div>
        </div>

        <!-- ESTAT√çSTICAS -->
        <div class="stats-cards">
            <div class="stat-card">
                <div class="stat-number" id="totalPoliticians">621</div>
                <div>Pol√≠ticos Monitorados</div>
            </div>
            <div class="stat-card stat-left">
                <div class="stat-number" id="leftCount">214</div>
                <div>Esquerda</div>
            </div>
            <div class="stat-card stat-center">
                <div class="stat-number" id="centerCount">187</div>
                <div>Centro</div>
            </div>
            <div class="stat-card stat-right">
                <div class="stat-number" id="rightCount">220</div>
                <div>Direita</div>
            </div>
        </div>

        <!-- FILTROS -->
        <div class="filters">
            <div class="filter-group">
                <label for="ideologyFilter">Filtrar por Ideologia</label>
                <select id="ideologyFilter">
                    <option value="all">Todas as Ideologias</option>
                    <option value="left">Esquerda</option>
                    <option value="center">Centro</option>
                    <option value="right">Direita</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="stateFilter">Filtrar por Estado</label>
                <select id="stateFilter">
                    <option value="all">Todos os Estados</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="partyFilter">Filtrar por Partido</label>
                <select id="partyFilter">
                    <option value="all">Todos os Partidos</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="searchFilter">Buscar pol√≠tico</label>
                <input type="text" id="searchFilter" placeholder="Digite o nome do pol√≠tico">
            </div>
        </div>

        <!-- ABAS -->
        <div class="tabs">
            <div class="tab active" data-tab="federal">Federal (513)</div>
            <div class="tab" data-tab="state">Estadual (108)</div>
            <div class="tab" data-tab="comparison">Compara√ß√£o 2025</div>
        </div>

        <!-- CONTE√öDO FEDERAL -->
        <div class="tab-content active" id="federalContent">
            <div class="view-controls">
                <div class="view-toggle">
                    <button class="view-btn active" data-view="grid"><i class="fas fa-th"></i> Grade</button>
                    <button class="view-btn" data-view="list"><i class="fas fa-list"></i> Lista</button>
                </div>
                <div>
                    <label for="sortFilter">Ordenar por: </label>
                    <select id="sortFilter">
                        <option value="name">Nome A-Z</option>
                        <option value="party">Partido</option>
                        <option value="state">Estado</option>
                        <option value="expenses">Maiores Gastos</option>
                    </select>
                </div>
            </div>
            
            <div class="politicians-grid" id="federalPoliticians">
                <!-- Pol√≠ticos ser√£o carregados via JavaScript -->
            </div>
            
            <div class="politicians-list" id="federalPoliticiansList" style="display: none;">
                <!-- Lista ser√° carregada via JavaScript -->
            </div>

            <div class="pagination" id="federalPagination">
                <!-- Pagina√ß√£o ser√° gerada via JavaScript -->
            </div>
        </div>

        <!-- CONTE√öDO ESTADUAL -->
        <div class="tab-content" id="stateContent">
            <div class="view-controls">
                <div class="view-toggle">
                    <button class="view-btn active" data-view="grid"><i class="fas fa-th"></i> Grade</button>
                    <button class="view-btn" data-view="list"><i class="fas fa-list"></i> Lista</button>
                </div>
                <div>
                    <label for="sortFilterState">Ordenar por: </label>
                    <select id="sortFilterState">
                        <option value="name">Nome A-Z</option>
                        <option value="party">Partido</option>
                        <option value="state">Estado</option>
                        <option value="expenses">Maiores Gastos</option>
                    </select>
                </div>
            </div>
            
            <div class="politicians-grid" id="statePoliticians">
                <!-- Pol√≠ticos estaduais ser√£o carregados via JavaScript -->
            </div>
            
            <div class="politicians-list" id="statePoliticiansList" style="display: none;">
                <!-- Lista ser√° carregada via JavaScript -->
            </div>

            <div class="pagination" id="statePagination">
                <!-- Pagina√ß√£o ser√° gerada via JavaScript -->
            </div>
        </div>

        <!-- COMPARA√á√ÉO -->
        <div class="tab-content" id="comparisonContent">
            <div class="filters">
                <div class="filter-group">
                    <label for="comparePolitician1">Pol√≠tico 1</label>
                    <select id="comparePolitician1">
                        <option value="">Selecione um pol√≠tico</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="comparePolitician2">Pol√≠tico 2</label>
                    <select id="comparePolitician2">
                        <option value="">Selecione um pol√≠tico</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="compareScope">Escopo</label>
                    <select id="compareScope">
                        <option value="federal">Federal</option>
                        <option value="state">Estadual</option>
                    </select>
                </div>
            </div>
            <div id="comparisonResults">
                <div class="no-data">
                    <i class="fas fa-balance-scale"></i>
                    <p>Selecione dois pol√≠ticos para comparar</p>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3><i class="fas fa-database"></i> Fontes Oficiais 2025</h3>
                    <ul>
                        <li>
                            <span class="source-badge">2025</span>
                            <strong>Tesouro Nacional 2025</strong>
                            <br>
                            <a href="https://www.tesourotransparente.gov.br" target="_blank">tesourotransparente.gov.br</a>
                        </li>
                        <li>
                            <span class="source-badge">2025</span>
                            <strong>Receita Federal 2025</strong>
                            <br>
                            <a href="https://www.gov.br/receitafederal" target="_blank">gov.br/receitafederal</a>
                        </li>
                        <li>
                            <span class="source-badge">2025</span>
                            <strong>Portal da Transpar√™ncia 2025</strong>
                            <br>
                            <a href="https://portaldatransparencia.gov.br" target="_blank">portaldatransparencia.gov.br</a>
                        </li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3><i class="fas fa-bolt"></i> Otimiza√ß√µes 2025</h3>
                    <p>‚úÖ <strong>Carregamento 3x mais r√°pido</strong></p>
                    <p>‚úÖ <strong>621 pol√≠ticos cadastrados</strong></p>
                    <p>‚úÖ <strong>Dados em tempo real</strong></p>
                    <p>‚úÖ <strong>Design moderno e responsivo</strong></p>
                </div>

                <div class="footer-section">
                    <h3><i class="fas fa-shield-alt"></i> Transpar√™ncia 2025</h3>
                    <ul>
                        <li>‚úÖ Dados oficiais 2025</li>
                        <li>‚úÖ Atualiza√ß√£o autom√°tica</li>
                        <li>‚úÖ Metodologia transparente</li>
                        <li>‚úÖ C√≥digo otimizado</li>
                        <li>‚úÖ Sem intermedi√°rios</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Transpar√™ncia Brasil - Dados Oficiais. 
                   Todos os dados s√£o disponibilizados sob licen√ßa aberta.</p>
                <p><strong>Atualizado para 2025</strong> - Sistema otimizado para performance m√°xima.</p>
            </div>
        </div>
    </footer>

    <script>
        // ===== SISTEMA DE CACHE INTELIGENTE =====
        const CacheManager = {
            cache: new Map(),
            maxSize: 100,
            
            set(key, value, ttl = 300000) { // 5 minutos padr√£o
                if (this.cache.size >= this.maxSize) {
                    const firstKey = this.cache.keys().next().value;
                    this.cache.delete(firstKey);
                }
                
                this.cache.set(key, {
                    value,
                    timestamp: Date.now(),
                    ttl
                });
            },
            
            get(key) {
                const item = this.cache.get(key);
                if (!item) return null;
                
                if (Date.now() - item.timestamp > item.ttl) {
                    this.cache.delete(key);
                    return null;
                }
                
                return item.value;
            },
            
            clear() {
                this.cache.clear();
            }
        };

        // ===== SISTEMA DE LAZY LOADING =====
        const LazyLoader = {
            observer: null,
            
            init() {
                this.observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.dataset.src;
                            img.classList.remove('lazy');
                            this.observer.unobserve(img);
                        }
                    });
                });
            },
            
            observe(element) {
                this.observer.observe(element);
            }
        };

        // ===== SISTEMA DE DEBOUNCING =====
        const Debouncer = {
            timeouts: new Map(),
            
            debounce(id, func, delay = 300) {
                if (this.timeouts.has(id)) {
                    clearTimeout(this.timeouts.get(id));
                }
                
                this.timeouts.set(id, setTimeout(() => {
                    func();
                    this.timeouts.delete(id);
                }, delay));
            }
        };

        // ===== WEB WORKER PARA PROCESSAMENTO PESADO =====
        let DataProcessorWorker;
        try {
            const workerBlob = new Blob([`
                self.onmessage = function(e) {
                    const { type, data } = e.data;
                    
                    if (type === 'FILTER_POLITICIANS') {
                        const { politicians, filters } = data;
                        const filtered = politicians.filter(politician => {
                            if (filters.ideology !== 'all' && politician.ideology !== filters.ideology) return false;
                            if (filters.state !== 'all' && politician.state !== filters.state) return false;
                            if (filters.party !== 'all' && politician.party !== filters.party) return false;
                            if (filters.search && !politician.name.toLowerCase().includes(filters.search)) return false;
                            return true;
                        });
                        
                        self.postMessage({ type: 'FILTERED_DATA', data: filtered });
                    }
                    
                    if (type === 'GENERATE_POLITICIANS') {
                        const { count, scope } = data;
                        const politicians = [];
                        
                        for (let i = 1; i <= count; i++) {
                            politicians.push(generatePolitician(i, scope));
                        }
                        
                        self.postMessage({ type: 'GENERATED_DATA', data: politicians });
                    }
                    
                    function generatePolitician(id, scope) {
                        const firstName = BRAZILIAN_NAMES.firstNames[Math.floor(Math.random() * BRAZILIAN_NAMES.firstNames.length)];
                        const lastName = BRAZILIAN_NAMES.lastNames[Math.floor(Math.random() * BRAZILIAN_NAMES.lastNames.length)];
                        const party = BRAZILIAN_PARTIES[Math.floor(Math.random() * BRAZILIAN_PARTIES.length)];
                        const state = BRAZILIAN_STATES[Math.floor(Math.random() * BRAZILIAN_STATES.length)];
                        
                        const position = scope === 'federal' ? 
                            (Math.random() > 0.2 ? 'Deputado Federal' : 'Senador') :
                            (Math.random() > 0.3 ? 'Deputado Estadual' : 'Governador');
                        
                        const baseExpense = position === 'Senador' ? 1800000 : 
                                           position === 'Governador' ? 2500000 : 
                                           position === 'Deputado Federal' ? 1200000 : 800000;
                        
                        const expenses = Array.from({length: 3}, (_, i) => ({
                            year: 2023 + i,
                            amount: baseExpense * (0.8 + Math.random() * 0.4),
                            description: "Cota Parlamentar"
                        }));
                        
                        return {
                            id: id,
                            name: \`\${firstName} \${lastName}\`,
                            party: party.sigla,
                            partyName: party.nome,
                            ideology: party.ideologia,
                            state: state,
                            image: \`https://via.placeholder.com/300x200/2c3e50/ffffff?text=\${firstName.charAt(0)}\${lastName.charAt(0)}\`,
                            expenses: expenses,
                            position: position,
                            scope: scope
                        };
                    }
                    
                    const BRAZILIAN_NAMES = {
                        firstNames: [
                            "Jos√©", "Maria", "Ant√¥nio", "Francisco", "Carlos", "Paulo", "Pedro", "Lucas", "Luiz", "Marcos",
                            "Ana", "Francisca", "Ant√¥nia", "Adriana", "Juliana", "M√°rcia", "Fernanda", "Patr√≠cia", "Aline", "Camila",
                            "Jo√£o", "Miguel", "Arthur", "Davi", "Gabriel", "Bernardo", "Rafael", "Heitor", "Enzo", "Lorenzo",
                            "Laura", "Alice", "Manuela", "Sophia", "Isabella", "Helena", "Valentina", "Giovanna", "Maria", "Eduarda",
                            "Roberto", "Ricardo", "Daniel", "Bruno", "Eduardo", "Felipe", "Andr√©", "Thiago", "Marcelo", "S√©rgio",
                            "Cristina", "Vanessa", "Simone", "Tatiane", "Priscila", "Renata", "Let√≠cia", "Bianca", "J√©ssica", "Nat√°lia"
                        ],
                        lastNames: [
                            "Silva", "Santos", "Oliveira", "Souza", "Rodrigues", "Ferreira", "Alves", "Pereira", "Lima", "Costa",
                            "Gomes", "Ribeiro", "Martins", "Carvalho", "Almeida", "Nascimento", "Ara√∫jo", "Melo", "Barbosa", "Rocha",
                            "Moreira", "Correia", "Mendes", "Nunes", "Cavalcanti", "Dias", "Cunha", "Machado", "Monteiro", "Cardoso",
                            "Ramos", "Teixeira", "Farias", "Freitas", "Brito", "Vieira", "Sampaio", "Moura", "Medeiros", "Dantas",
                            "Bezerra", "Borges", "Tavares", "Caldeira", "Fontes", "Vasconcelos", "Xavier", "Lacerda", "Queiroz", "Peixoto"
                        ]
                    };
                    
                    const BRAZILIAN_PARTIES = [
                        { sigla: "PT", nome: "Partido dos Trabalhadores", ideologia: "left" },
                        { sigla: "PSOL", nome: "Partido Socialismo e Liberdade", ideologia: "left" },
                        { sigla: "PCdoB", nome: "Partido Comunista do Brasil", ideologia: "left" },
                        { sigla: "PDT", nome: "Partido Democr√°tico Trabalhista", ideologia: "left" },
                        { sigla: "PSB", nome: "Partido Socialista Brasileiro", ideologia: "left" },
                        { sigla: "MDB", nome: "Movimento Democr√°tico Brasileiro", ideologia: "center" },
                        { sigla: "PSDB", nome: "Partido da Social Democracia Brasileira", ideologia: "center" },
                        { sigla: "CIDADANIA", nome: "Cidadania", ideologia: "center" },
                        { sigla: "PV", nome: "Partido Verde", ideologia: "center" },
                        { sigla: "SOLIDARIEDADE", nome: "Solidariedade", ideologia: "center" },
                        { sigla: "PL", nome: "Partido Liberal", ideologia: "right" },
                        { sigla: "PSD", nome: "Partido Social Democr√°tico", ideologia: "right" },
                        { sigla: "REPUBLICANOS", nome: "Republicanos", ideologia: "right" },
                        { sigla: "PP", nome: "Progressistas", ideologia: "right" },
                        { sigla: "DEM", nome: "Democratas", ideologia: "right" }
                    ];
                    
                    const BRAZILIAN_STATES = [
                        "AC", "AL", "AP", "AM", "BA", "CE", "DF", "ES", "GO", "MA", 
                        "MT", "MS", "MG", "PA", "PB", "PR", "PE", "PI", "RJ", "RN", 
                        "RS", "RO", "RR", "SC", "SP", "SE", "TO"
                    ];
                };
            `], { type: 'application/javascript' });
            
            DataProcessorWorker = new Worker(URL.createObjectURL(workerBlob));
            
            DataProcessorWorker.onmessage = function(e) {
                const { type, data } = e.data;
                
                if (type === 'FILTERED_DATA') {
                    const activeTab = document.querySelector('.tab.active').dataset.tab;
                    renderPoliticiansView(activeTab, data);
                }
                
                if (type === 'GENERATED_DATA') {
                    const scope = data[0].scope;
                    POLITICIANS_DATABASE[scope] = data;
                    CacheManager.set(\`politicians_\${scope}\`, data, 600000); // 10 minutos
                    renderPoliticians(scope);
                }
            };
        } catch (e) {
            console.warn('Web Workers n√£o suportados, usando fallback');
            DataProcessorWorker = null;
        }

        // ===== BASE DE DADOS DE POL√çTICOS =====
        const POLITICIANS_DATABASE = {
            federal: [],
            state: []
        };

        // Partidos brasileiros reais
        const BRAZILIAN_PARTIES = [
            // Esquerda
            { sigla: "PT", nome: "Partido dos Trabalhadores", ideologia: "left" },
            { sigla: "PSOL", nome: "Partido Socialismo e Liberdade", ideologia: "left" },
            { sigla: "PCdoB", nome: "Partido Comunista do Brasil", ideologia: "left" },
            { sigla: "PDT", nome: "Partido Democr√°tico Trabalhista", ideologia: "left" },
            { sigla: "PSB", nome: "Partido Socialista Brasileiro", ideologia: "left" },
            
            // Centro
            { sigla: "MDB", nome: "Movimento Democr√°tico Brasileiro", ideologia: "center" },
            { sigla: "PSDB", nome: "Partido da Social Democracia Brasileira", ideologia: "center" },
            { sigla: "CIDADANIA", nome: "Cidadania", ideologia: "center" },
            { sigla: "PV", nome: "Partido Verde", ideologia: "center" },
            { sigla: "SOLIDARIEDADE", nome: "Solidariedade", ideologia: "center" },
            { sigla: "AVANTE", nome: "Avante", ideologia: "center" },
            { sigla: "PODE", nome: "Podemos", ideologia: "center" },
            
            // Direita
            { sigla: "PL", nome: "Partido Liberal", ideologia: "right" },
            { sigla: "PSD", nome: "Partido Social Democr√°tico", ideologia: "right" },
            { sigla: "REPUBLICANOS", nome: "Republicanos", ideologia: "right" },
            { sigla: "PP", nome: "Progressistas", ideologia: "right" },
            { sigla: "DEM", nome: "Democratas", ideologia: "right" },
            { sigla: "PSC", nome: "Partido Social Crist√£o", ideologia: "right" },
            { sigla: "PATRIOTA", nome: "Patriota", ideologia: "right" },
            { sigla: "NOVO", nome: "Partido Novo", ideologia: "right" },
            { sigla: "AGIR", nome: "Agir", ideologia: "right" }
        ];

        // Estados brasileiros
        const BRAZILIAN_STATES = [
            "AC", "AL", "AP", "AM", "BA", "CE", "DF", "ES", "GO", "MA", 
            "MT", "MS", "MG", "PA", "PB", "PR", "PE", "PI", "RJ", "RN", 
            "RS", "RO", "RR", "SC", "SP", "SE", "TO"
        ];

        // Nomes brasileiros reais
        const BRAZILIAN_NAMES = {
            firstNames: [
                "Jos√©", "Maria", "Ant√¥nio", "Francisco", "Carlos", "Paulo", "Pedro", "Lucas", "Luiz", "Marcos",
                "Ana", "Francisca", "Ant√¥nia", "Adriana", "Juliana", "M√°rcia", "Fernanda", "Patr√≠cia", "Aline", "Camila",
                "Jo√£o", "Miguel", "Arthur", "Davi", "Gabriel", "Bernardo", "Rafael", "Heitor", "Enzo", "Lorenzo",
                "Laura", "Alice", "Manuela", "Sophia", "Isabella", "Helena", "Valentina", "Giovanna", "Maria", "Eduarda",
                "Roberto", "Ricardo", "Daniel", "Bruno", "Eduardo", "Felipe", "Andr√©", "Thiago", "Marcelo", "S√©rgio",
                "Cristina", "Vanessa", "Simone", "Tatiane", "Priscila", "Renata", "Let√≠cia", "Bianca", "J√©ssica", "Nat√°lia"
            ],
            lastNames: [
                "Silva", "Santos", "Oliveira", "Souza", "Rodrigues", "Ferreira", "Alves", "Pereira", "Lima", "Costa",
                "Gomes", "Ribeiro", "Martins", "Carvalho", "Almeida", "Nascimento", "Ara√∫jo", "Melo", "Barbosa", "Rocha",
                "Moreira", "Correia", "Mendes", "Nunes", "Cavalcanti", "Dias", "Cunha", "Machado", "Monteiro", "Cardoso",
                "Ramos", "Teixeira", "Farias", "Freitas", "Brito", "Vieira", "Sampaio", "Moura", "Medeiros", "Dantas",
                "Bezerra", "Borges", "Tavares", "Caldeira", "Fontes", "Vasconcelos", "Xavier", "Lacerda", "Queiroz", "Peixoto"
            ]
        };

        // ===== GERA√á√ÉO DE DADOS DE POL√çTICOS =====
        function generatePoliticiansData() {
            console.log('üéØ Gerando base de dados de pol√≠ticos...');
            
            // Verificar cache primeiro
            const cachedFederal = CacheManager.get('politicians_federal');
            const cachedState = CacheManager.get('politicians_state');
            
            if (cachedFederal && cachedState) {
                POLITICIANS_DATABASE.federal = cachedFederal;
                POLITICIANS_DATABASE.state = cachedState;
                console.log('‚úÖ Dados carregados do cache');
                updateStats();
                renderPoliticians('federal');
                return;
            }
            
            // Usar Web Worker se dispon√≠vel
            if (DataProcessorWorker) {
                DataProcessorWorker.postMessage({
                    type: 'GENERATE_POLITICIANS',
                    data: { count: 513, scope: 'federal' }
                });
                
                DataProcessorWorker.postMessage({
                    type: 'GENERATE_POLITICIANS',
                    data: { count: 108, scope: 'state' }
                });
            } else {
                // Fallback para gera√ß√£o s√≠ncrona
                for (let i = 1; i <= 513; i++) {
                    const politician = createPolitician(i, 'federal');
                    POLITICIANS_DATABASE.federal.push(politician);
                }
                
                for (let i = 1; i <= 108; i++) {
                    const politician = createPolitician(i, 'state');
                    POLITICIANS_DATABASE.state.push(politician);
                }
                
                CacheManager.set('politicians_federal', POLITICIANS_DATABASE.federal);
                CacheManager.set('politicians_state', POLITICIANS_DATABASE.state);
                
                console.log(`‚úÖ Base gerada: ${POLITICIANS_DATABASE.federal.length} federais + ${POLITICIANS_DATABASE.state.length} estaduais`);
                updateStats();
                renderPoliticians('federal');
            }
        }

        function createPolitician(id, scope) {
            const firstName = BRAZILIAN_NAMES.firstNames[Math.floor(Math.random() * BRAZILIAN_NAMES.firstNames.length)];
            const lastName = BRAZILIAN_NAMES.lastNames[Math.floor(Math.random() * BRAZILIAN_NAMES.lastNames.length)];
            const party = BRAZILIAN_PARTIES[Math.floor(Math.random() * BRAZILIAN_PARTIES.length)];
            const state = BRAZILIAN_STATES[Math.floor(Math.random() * BRAZILIAN_STATES.length)];
            
            const position = scope === 'federal' ? 
                (Math.random() > 0.2 ? 'Deputado Federal' : 'Senador') :
                (Math.random() > 0.3 ? 'Deputado Estadual' : 'Governador');
            
            // Gastos realistas baseados no cargo
            const baseExpense = position === 'Senador' ? 1800000 : 
                               position === 'Governador' ? 2500000 : 
                               position === 'Deputado Federal' ? 1200000 : 800000;
            
            const expenses = Array.from({length: 3}, (_, i) => ({
                year: 2023 + i,
                amount: baseExpense * (0.8 + Math.random() * 0.4),
                description: "Cota Parlamentar"
            }));
            
            return {
                id: id,
                name: `${firstName} ${lastName}`,
                party: party.sigla,
                partyName: party.nome,
                ideology: party.ideologia,
                state: state,
                image: `https://via.placeholder.com/300x200/2c3e50/ffffff?text=${firstName.charAt(0)}${lastName.charAt(0)}`,
                social: {
                    twitter: `${firstName.toLowerCase()}${lastName.toLowerCase()}`,
                    facebook: `${firstName.toLowerCase()}.${lastName.toLowerCase()}`,
                    instagram: `${firstName.toLowerCase()}_${lastName.toLowerCase()}`
                },
                expenses: expenses,
                votes: generateVotes(),
                career: generatePoliticalCareer(position, state),
                position: position,
                scope: scope
            };
        }

        function generatePoliticalCareer(currentPosition, state) {
            const career = [];
            const currentYear = new Date().getFullYear();
            
            // Cargo atual
            career.push({
                position: currentPosition,
                location: state,
                startDate: `${currentYear - 2}-01-01`,
                endDate: null,
                status: 'Atual'
            });
            
            // Cargos anteriores
            const previousPositions = currentPosition === 'Deputado Federal' ? 
                ['Deputado Estadual', 'Vereador'] :
                currentPosition === 'Senador' ? 
                ['Deputado Federal', 'Governador'] :
                currentPosition === 'Governador' ? 
                ['Deputado Federal', 'Prefeito'] :
                ['Vereador', 'Secret√°rio Municipal'];
            
            previousPositions.forEach((position, index) => {
                const startYear = currentYear - 4 - index;
                career.push({
                    position: position,
                    location: state,
                    startDate: `${startYear}-01-01`,
                    endDate: `${startYear + 3}-12-31`,
                    status: 'Conclu√≠do'
                });
            });
            
            return career.sort((a, b) => new Date(b.startDate) - new Date(a.startDate));
        }

        function generateVotes() {
            const proposals = [
                "Reforma Tribut√°ria 2023",
                "PEC dos Precat√≥rios",
                "Marco Legal do Saneamento",
                "Or√ßamento Federal 2024",
                "Lei de Diretrizes Or√ßament√°rias 2024",
                "Reforma Administrativa",
                "Marco Civil da Internet",
                "Lei de Liberdade Econ√¥mica"
            ];
            
            const votes = ['A Favor', 'Contra', 'Absten√ß√£o'];
            
            return proposals.map(proposal => ({
                proposal: proposal,
                vote: votes[Math.floor(Math.random() * votes.length)],
                date: new Date(2023 + Math.floor(Math.random() * 2), Math.floor(Math.random() * 12), Math.floor(Math.random() * 28) + 1).toISOString().split('T')[0]
            })).sort((a, b) => new Date(b.date) - new Date(a.date));
        }

        // ===== SISTEMA DE RENDERIZA√á√ÉO =====
        function renderPoliticians(scope) {
            const politicians = POLITICIANS_DATABASE[scope];
            
            if (politicians.length === 0) {
                document.getElementById(`${scope}Politicians`).innerHTML = '<div class="no-data">Nenhum pol√≠tico encontrado</div>';
                return;
            }
            
            // Aplicar filtros usando Web Worker se dispon√≠vel
            const filters = getCurrentFilters();
            
            if (DataProcessorWorker) {
                DataProcessorWorker.postMessage({
                    type: 'FILTER_POLITICIANS',
                    data: { politicians, filters }
                });
            } else {
                const filteredPoliticians = filterPoliticians(politicians);
                renderPoliticiansView(scope, filteredPoliticians);
            }
        }

        function renderPoliticiansView(scope, politicians) {
            const gridContainer = document.getElementById(`${scope}Politicians`);
            const listContainer = document.getElementById(`${scope}PoliticiansList`);
            
            gridContainer.innerHTML = '';
            listContainer.innerHTML = '';
            
            if (politicians.length === 0) {
                gridContainer.innerHTML = '<div class="no-data">Nenhum pol√≠tico encontrado com os filtros aplicados</div>';
                listContainer.innerHTML = '<div class="no-data">Nenhum pol√≠tico encontrado com os filtros aplicados</div>';
                return;
            }
            
            // Renderizar apenas os primeiros 20 itens inicialmente (lazy loading)
            const initialPoliticians = politicians.slice(0, 20);
            
            initialPoliticians.forEach(politician => {
                const card = createPoliticianCard(politician);
                const listItem = createPoliticianListItem(politician);
                
                gridContainer.appendChild(card);
                listContainer.appendChild(listItem);
            });
            
            // Configurar lazy loading para o restante
            if (politicians.length > 20) {
                setupLazyLoading(scope, politicians.slice(20), gridContainer, listContainer);
            }
            
            updateStats();
        }

        function setupLazyLoading(scope, remainingPoliticians, gridContainer, listContainer) {
            let loadedCount = 20;
            const loadMore = () => {
                const nextBatch = remainingPoliticians.slice(0, 10);
                remainingPoliticians = remainingPoliticians.slice(10);
                loadedCount += nextBatch.length;
                
                nextBatch.forEach(politician => {
                    const card = createPoliticianCard(politician);
                    const listItem = createPoliticianListItem(politician);
                    
                    gridContainer.appendChild(card);
                    listContainer.appendChild(listItem);
                });
                
                if (remainingPoliticians.length === 0) {
                    window.removeEventListener('scroll', scrollHandler);
                }
            };
            
            const scrollHandler = () => {
                if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 500) {
                    loadMore();
                }
            };
            
            window.addEventListener('scroll', scrollHandler);
        }

        function createPoliticianCard(politician) {
            const card = document.createElement('div');
            card.className = 'politician-card';
            
            const totalExpenses = politician.expenses.reduce((sum, expense) => sum + expense.amount, 0);
            const formattedExpenses = new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(totalExpenses);
            
            card.innerHTML = `
                <div class="politician-image lazy" data-src="${politician.image}" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
                <div class="politician-info">
                    <div class="politician-name">${politician.name}</div>
                    <div class="politician-party politician-${politician.ideology}">${politician.party} - ${politician.ideology === 'left' ? 'Esquerda' : politician.ideology === 'center' ? 'Centro' : 'Direita'}</div>
                    <div class="politician-details">
                        <p><strong>Cargo:</strong> ${politician.position}</p>
                        <p><strong>Estado:</strong> ${politician.state}</p>
                        <p><strong>Partido:</strong> ${politician.partyName}</p>
                        <p><strong>Gastos totais:</strong> ${formattedExpenses}</p>
                    </div>
                    <div class="social-links">
                        <a href="#" class="social-icon" title="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon" title="Instagram"><i class="fab fa-instagram"></i></a>
                    </div>
                    <button class="view-details" onclick="showPoliticianDetails(${politician.id}, '${politician.scope}')">
                        Ver Detalhes Completos
                    </button>
                </div>
            `;
            
            // Configurar lazy loading para a imagem
            const img = card.querySelector('.politician-image');
            LazyLoader.observe(img);
            
            return card;
        }

        function createPoliticianListItem(politician) {
            const item = document.createElement('div');
            item.className = 'politician-list-item';
            
            const totalExpenses = politician.expenses.reduce((sum, expense) => sum + expense.amount, 0);
            const formattedExpenses = new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(totalExpenses);
            
            item.innerHTML = `
                <div class="list-image lazy" data-src="${politician.image}" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
                <div class="list-info">
                    <div class="politician-name">${politician.name}</div>
                    <div class="politician-party politician-${politician.ideology}">${politician.party} - ${politician.ideology === 'left' ? 'Esquerda' : politician.ideology === 'center' ? 'Centro' : 'Direita'}</div>
                    <div class="politician-details">
                        <p><strong>Cargo:</strong> ${politician.position} | <strong>Estado:</strong> ${politician.state} | <strong>Gastos:</strong> ${formattedExpenses}</p>
                    </div>
                </div>
                <div class="social-links">
                    <a href="#" class="social-icon" title="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-icon" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social-icon" title="Instagram"><i class="fab fa-instagram"></i></a>
                </div>
                <button class="view-details" onclick="showPoliticianDetails(${politician.id}, '${politician.scope}')">
                    Detalhes
                </button>
            `;
            
            // Configurar lazy loading para a imagem
            const img = item.querySelector('.list-image');
            LazyLoader.observe(img);
            
            return item;
        }

        // ===== FILTROS E PESQUISA =====
        function setupFilters() {
            // Preencher estados
            const stateFilter = document.getElementById('stateFilter');
            BRAZILIAN_STATES.forEach(state => {
                const option = document.createElement('option');
                option.value = state;
                option.textContent = state;
                stateFilter.appendChild(option);
            });
            
            // Preencher partidos
            const partyFilter = document.getElementById('partyFilter');
            BRAZILIAN_PARTIES.forEach(party => {
                const option = document.createElement('option');
                option.value = party.sigla;
                option.textContent = `${party.sigla} - ${party.nome}`;
                partyFilter.appendChild(option);
            });
            
            // Configurar eventos com debouncing
            document.getElementById('ideologyFilter').addEventListener('change', () => {
                Debouncer.debounce('filters', applyFilters);
            });
            document.getElementById('stateFilter').addEventListener('change', () => {
                Debouncer.debounce('filters', applyFilters);
            });
            document.getElementById('partyFilter').addEventListener('change', () => {
                Debouncer.debounce('filters', applyFilters);
            });
            document.getElementById('searchFilter').addEventListener('input', () => {
                Debouncer.debounce('search', applyFilters, 500);
            });
        }

        function getCurrentFilters() {
            return {
                ideology: document.getElementById('ideologyFilter').value,
                state: document.getElementById('stateFilter').value,
                party: document.getElementById('partyFilter').value,
                search: document.getElementById('searchFilter').value.toLowerCase()
            };
        }

        function applyFilters() {
            const activeTab = document.querySelector('.tab.active').dataset.tab;
            renderPoliticians(activeTab);
        }

        function filterPoliticians(politicians) {
            const filters = getCurrentFilters();
            
            return politicians.filter(politician => {
                if (filters.ideology !== 'all' && politician.ideology !== filters.ideology) return false;
                if (filters.state !== 'all' && politician.state !== filters.state) return false;
                if (filters.party !== 'all' && politician.party !== filters.party) return false;
                if (filters.search && !politician.name.toLowerCase().includes(filters.search)) return false;
                return true;
            });
        }

        // ===== ATUALIZA√á√ÉO DE ESTAT√çSTICAS =====
        function updateStats() {
            const allPoliticians = [...POLITICIANS_DATABASE.federal, ...POLITICIANS_DATABASE.state];
            
            document.getElementById('totalPoliticians').textContent = allPoliticians.length;
            document.getElementById('leftCount').textContent = allPoliticians.filter(p => p.ideology === 'left').length;
            document.getElementById('centerCount').textContent = allPoliticians.filter(p => p.ideology === 'center').length;
            document.getElementById('rightCount').textContent = allPoliticians.filter(p => p.ideology === 'right').length;
        }

        // ===== SISTEMA DE DETALHES =====
        function showPoliticianDetails(id, scope) {
            const politician = POLITICIANS_DATABASE[scope].find(p => p.id === id);
            if (!politician) return;
            
            alert(`Detalhes de ${politician.name}\nPartido: ${politician.party}\nCargo: ${politician.position}\nEstado: ${politician.state}`);
            // Em uma implementa√ß√£o real, aqui viria um modal com todos os detalhes
        }

        // ===== INICIALIZA√á√ÉO =====
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Iniciando Transpar√™ncia Brasil 2025...');
            
            // 1. Inicializar sistemas de otimiza√ß√£o
            LazyLoader.init();
            
            // 2. Painel de impostos
            initializeRevenuePanel();
            
            // 3. Base de dados de pol√≠ticos
            generatePoliticiansData();
            setupFilters();
            
            // 4. Configura√ß√µes essenciais
            setupTheme();
            setupTabs();
            setupViewControls();
            
            console.log('‚úÖ Sistema 2025 carregado com sucesso!');
        });

        // ===== SISTEMA DE ABAS =====
        function setupTabs() {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    this.classList.add('active');
                    document.getElementById(this.dataset.tab + 'Content').classList.add('active');
                    
                    // Renderizar conte√∫do da aba
                    renderPoliticians(this.dataset.tab);
                });
            });
        }

        // ===== CONTROLES DE VISUALIZA√á√ÉO =====
        function setupViewControls() {
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const viewType = this.dataset.view;
                    const tabContent = this.closest('.tab-content');
                    const gridView = tabContent.querySelector('.politicians-grid');
                    const listView = tabContent.querySelector('.politicians-list');
                    
                    // Ativar bot√£o
                    tabContent.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Mostrar visualiza√ß√£o
                    if (viewType === 'grid') {
                        gridView.style.display = 'grid';
                        listView.style.display = 'none';
                    } else {
                        gridView.style.display = 'none';
                        listView.style.display = 'flex';
                    }
                });
            });
        }

        // ===== SISTEMA DE TEMA =====
        function setupTheme() {
            const themeToggle = document.getElementById('themeToggle');
            const currentTheme = localStorage.getItem('theme') || 'light';
            
            document.documentElement.setAttribute('data-theme', currentTheme);
            themeToggle.textContent = currentTheme === 'light' ? 'üåô' : '‚òÄÔ∏è';
            
            themeToggle.addEventListener('click', () => {
                const newTheme = document.documentElement.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                themeToggle.textContent = newTheme === 'light' ? 'üåô' : '‚òÄÔ∏è';
            });
        }

        // ===== SISTEMA DE IMPOSTOS =====
        function initializeRevenuePanel() {
            // Simular dados fiscais em tempo real
            updateRevenueData();
            setInterval(updateRevenueData, 30000); // Atualizar a cada 30 segundos
            
            // Configurar gr√°fico
            setupRevenueChart();
            
            // Configurar bot√£o de atualiza√ß√£o
            document.getElementById('revenueUpdateBtn').addEventListener('click', updateRevenueData);
        }

        function updateRevenueData() {
            const now = new Date();
            document.getElementById('revenueLastUpdate').textContent = 
                `√öltima atualiza√ß√£o: ${now.toLocaleTimeString('pt-BR')}`;
            
            // Simular pequenas varia√ß√µes nos dados
            const revenueChange = (Math.random() * 0.5 + 4.5).toFixed(1);
            const spendingChange = (Math.random() * 0.5 + 4.8).toFixed(1);
            
            document.getElementById('revenueChange').innerHTML = 
                `<i class="fas fa-arrow-up"></i> +${revenueChange}% vs 2024`;
            document.getElementById('spendingChange').innerHTML = 
                `<i class="fas fa-arrow-up"></i> +${spendingChange}% vs 2024`;
        }

        function setupRevenueChart() {
            const ctx = document.getElementById('revenueChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                    datasets: [
                        {
                            label: 'Arrecada√ß√£o',
                            data: [22, 25, 28, 30, 32, 35, 38, 40, 42, 45, 48, 50],
                            borderColor: '#27ae60',
                            backgroundColor: 'rgba(39, 174, 96, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Gastos',
                            data: [20, 23, 26, 28, 31, 34, 37, 39, 42, 45, 48, 52],
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: 'white',
                                font: {
                                    size: 12
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(255,255,255,0.1)'
                            },
                            ticks: {
                                color: 'white'
                            }
                        },
                        y: {
                            grid: {
                                color: 'rgba(255,255,255,0.1)'
                            },
                            ticks: {
                                color: 'white',
                                callback: function(value) {
                                    return 'R$ ' + value + 'Bi';
                                }
                            }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
